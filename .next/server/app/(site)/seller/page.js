(()=>{var e={};e.id=216,e.ids=[216],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},2694:e=>{"use strict";e.exports=require("http2")},8791:e=>{"use strict";e.exports=require("https")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},5012:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>o}),s(3507),s(7183),s(5866),s(5495);var r=s(3191),a=s(8716),l=s(7922),i=s.n(l),n=s(5231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(t,d);let o=["",{children:["(site)",{children:["seller",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3507)),"C:\\Users\\HP\\Desktop\\Freelance\\afrozonauto-frontend\\src\\app\\(site)\\seller\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,7183)),"C:\\Users\\HP\\Desktop\\Freelance\\afrozonauto-frontend\\src\\app\\(site)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,5495)),"C:\\Users\\HP\\Desktop\\Freelance\\afrozonauto-frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\HP\\Desktop\\Freelance\\afrozonauto-frontend\\src\\app\\(site)\\seller\\page.tsx"],m="/(site)/seller/page",x={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(site)/seller/page",pathname:"/seller",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},175:(e,t,s)=>{Promise.resolve().then(s.bind(s,9572))},4659:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(6557).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},8998:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(6557).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},2714:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(6557).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},3855:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(6557).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},1470:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(6557).Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},9572:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>E});var r=s(326),a=s(405),l=s(7577),i=s(434),n=s(5047),d=s(1470),o=s(1536),c=s(8998),m=s(4659),x=s(3855),u=s(2714),g=s(6557);let p=(0,g.Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);var h=s(9436);let y=(0,g.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var b=s(8695),f=s(8667);function v({status:e}){let t=f.Pm[e]||e,s=f.ac[e]||"bg-gray-100 text-gray-700";return r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s}`,children:t})}var j=s(6105);let N=[{key:"all",label:"All"},{key:"DRAFT",label:"Drafts"},{key:"PENDING_REVIEW",label:"Pending"},{key:"APPROVED",label:"Approved"},{key:"REJECTED",label:"Rejected"}];function w(){(0,n.useRouter)();let[e,t]=(0,l.useState)("all"),[s,a]=(0,l.useState)(null),[g,f]=(0,l.useState)(null),{data:w,isLoading:E,isError:k,error:D,refetch:P}=(0,b.eV)("seller"),R=(0,b.Iy)(),C=(0,b.vP)(),A=(0,l.useMemo)(()=>w?{total:w.length,draft:w.filter(e=>"DRAFT"===e.status).length,pending:w.filter(e=>"PENDING_REVIEW"===e.status).length,approved:w.filter(e=>"APPROVED"===e.status).length,rejected:w.filter(e=>"REJECTED"===e.status).length}:{total:0,draft:0,pending:0,approved:0,rejected:0},[w]),Z=(0,l.useMemo)(()=>w?"all"===e?w:w.filter(t=>t.status===e):[],[w,e]);async function _(e){f(e);try{await R.mutateAsync(e),(0,j.C)({type:"success",message:"Vehicle submitted for review."})}catch(t){let e=t instanceof Error?t.message:"Failed to submit vehicle.";(0,j.C)({type:"error",message:e})}finally{f(null)}}async function q(e){if(window.confirm("Are you sure you want to delete this listing? This action cannot be undone.")){a(e);try{await C.mutateAsync(e),(0,j.C)({type:"success",message:"Listing deleted successfully."})}catch(t){let e=t instanceof Error?t.message:"Failed to delete listing.";(0,j.C)({type:"error",message:e})}finally{a(null)}}}if(E)return r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,r.jsxs)("div",{className:"animate-pulse space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("div",{className:"h-8 w-48 bg-gray-200 rounded"}),r.jsx("div",{className:"h-10 w-36 bg-gray-200 rounded"})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[void 0,void 0,void 0,void 0].map((e,t)=>r.jsx("div",{className:"h-24 bg-gray-200 rounded-lg"},t))}),r.jsx("div",{className:"space-y-4",children:[void 0,void 0,void 0].map((e,t)=>r.jsx("div",{className:"h-32 bg-gray-200 rounded-lg"},t))})]})})});if(k)return r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center max-w-md px-4",children:[r.jsx(d.Z,{className:"h-12 w-12 text-red-400 mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Failed to Load Dashboard"}),r.jsx("p",{className:"text-gray-600 mb-6",children:D instanceof Error?D.message:"An unexpected error occurred."}),r.jsx("button",{onClick:()=>P(),className:"inline-flex items-center px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors font-medium",children:"Try Again"})]})});let T=[{label:"Total Listings",value:A.total,icon:o.Z,color:"bg-emerald-50 text-emerald-600"},{label:"Pending Review",value:A.pending,icon:c.Z,color:"bg-amber-50 text-amber-600"},{label:"Approved",value:A.approved,icon:m.Z,color:"bg-green-50 text-green-600"},{label:"Rejected",value:A.rejected,icon:d.Z,color:"bg-red-50 text-red-600"}];return r.jsx("div",{className:"min-h-screen bg-gray-50",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-8",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Seller Dashboard"}),r.jsx("p",{className:"mt-1 text-gray-500",children:"Manage your vehicle listings"})]}),(0,r.jsxs)(i.default,{href:"/seller/vehicles/new",className:"inline-flex items-center justify-center gap-2 px-5 py-2.5 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors font-medium shadow-sm",children:[r.jsx(x.Z,{className:"h-5 w-5"}),"Create Listing"]})]}),r.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:T.map(e=>r.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4 sm:p-5",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`p-2.5 rounded-lg ${e.color}`,children:r.jsx(e.icon,{className:"h-5 w-5"})}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.value}),r.jsx("p",{className:"text-sm text-gray-500",children:e.label})]})]})},e.label))}),(0,r.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"border-b border-gray-200",children:r.jsx("nav",{className:"flex overflow-x-auto -mb-px",children:N.map(s=>{let a=e===s.key;return(0,r.jsxs)("button",{onClick:()=>t(s.key),className:`whitespace-nowrap px-4 sm:px-6 py-3 text-sm font-medium border-b-2 transition-colors ${a?"border-emerald-600 text-emerald-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.label,"all"===s.key&&w?r.jsx("span",{className:"ml-2 text-xs bg-gray-100 text-gray-600 px-2 py-0.5 rounded-full",children:w.length}):null]},s.key)})})}),r.jsx("div",{className:"divide-y divide-gray-100",children:0===Z.length?(0,r.jsxs)("div",{className:"py-16 text-center",children:[r.jsx(o.Z,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No listings found"}),r.jsx("p",{className:"text-gray-500 mb-6",children:"all"===e?"You haven't created any listings yet. Get started by creating your first one.":`You have no ${e.toLowerCase().replace("_"," ")} listings.`}),"all"===e&&(0,r.jsxs)(i.default,{href:"/seller/vehicles/new",className:"inline-flex items-center gap-2 px-5 py-2.5 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors font-medium",children:[r.jsx(x.Z,{className:"h-5 w-5"}),"Create Your First Listing"]})]}):Z.map(e=>{var t;let a=function(e){if(e.images&&e.images.length>0){let t=e.images.find(e=>e.is_primary);return t?t.url:e.images[0].url}return null}(e),l=s===e.id,n=g===e.id;return r.jsx("div",{className:`p-4 sm:p-5 hover:bg-gray-50 transition-colors ${l?"opacity-50 pointer-events-none":""}`,children:(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsx("div",{className:"flex-shrink-0",children:a?r.jsx("img",{src:a,alt:e.title,className:"w-full sm:w-40 h-28 object-cover rounded-lg bg-gray-100"}):r.jsx("div",{className:"w-full sm:w-40 h-28 bg-gray-100 rounded-lg flex items-center justify-center",children:r.jsx(o.Z,{className:"h-8 w-8 text-gray-300"})})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-base font-semibold text-gray-900 truncate",children:e.title}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 mt-0.5",children:[e.year," ",e.make," ",e.model]})]}),r.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:r.jsx(v,{status:e.status})})]}),(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 mt-2 text-sm text-gray-500",children:[r.jsx("span",{className:"font-semibold text-gray-900",children:(t=e.price_usd,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(t))}),e.mileage>0&&(0,r.jsxs)("span",{children:[e.mileage.toLocaleString()," mi"]}),(0,r.jsxs)("span",{children:["Listed ",new Date(e.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]}),"REJECTED"===e.status&&e.rejection_reason&&(0,r.jsxs)("div",{className:"mt-3 p-3 bg-red-50 border border-red-100 rounded-lg",children:[r.jsx("p",{className:"text-sm font-medium text-red-800",children:"Rejection Reason:"}),r.jsx("p",{className:"text-sm text-red-700 mt-0.5",children:e.rejection_reason})]}),(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mt-3",children:[(0,r.jsxs)(i.default,{href:`/marketplace/${e.id}`,className:"inline-flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsx(u.Z,{className:"h-4 w-4"}),"View"]}),("DRAFT"===e.status||"REJECTED"===e.status)&&(0,r.jsxs)(i.default,{href:`/seller/vehicles/${e.id}/edit`,className:"inline-flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsx(p,{className:"h-4 w-4"}),"Edit"]}),"DRAFT"===e.status&&(0,r.jsxs)("button",{onClick:()=>_(e.id),disabled:n,className:"inline-flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium text-white bg-emerald-600 rounded-lg hover:bg-emerald-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(h.Z,{className:"h-4 w-4"}),n?"Submitting...":"Submit for Review"]}),"REJECTED"===e.status&&(0,r.jsxs)("button",{onClick:()=>_(e.id),disabled:n,className:"inline-flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium text-white bg-emerald-600 rounded-lg hover:bg-emerald-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(h.Z,{className:"h-4 w-4"}),n?"Resubmitting...":"Resubmit"]}),("DRAFT"===e.status||"REJECTED"===e.status)&&(0,r.jsxs)("button",{onClick:()=>q(e.id),disabled:l,className:"inline-flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium text-red-600 bg-white border border-red-200 rounded-lg hover:bg-red-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(y,{className:"h-4 w-4"}),l?"Deleting...":"Delete"]})]})]})]})},e.id)})})]})]})})}function E(){return r.jsx(a.i,{children:r.jsx(w,{})})}},405:(e,t,s)=>{"use strict";s.d(t,{i:()=>n});var r=s(326),a=s(5047),l=s(9678),i=s(7577);function n({children:e,redirectTo:t="/login"}){(0,a.useRouter)();let{isAuthenticated:s,accessToken:n}=(0,l.tN)(),[d,o]=(0,i.useState)(l.tN.persist.hasHydrated());return d&&s&&n?r.jsx(r.Fragment,{children:e}):r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"w-10 h-10 border-4 border-emerald-600 border-t-transparent rounded-full animate-spin"})})}},8667:(e,t,s)=>{"use strict";s.d(t,{Jo:()=>r,Pm:()=>a,ac:()=>l});let r=500,a={DRAFT:"Draft",PENDING_REVIEW:"Pending Review",APPROVED:"Approved",REJECTED:"Rejected",SOLD:"Sold",ARCHIVED:"Archived"},l={DRAFT:"bg-gray-100 text-gray-700",PENDING_REVIEW:"bg-amber-100 text-amber-700",APPROVED:"bg-emerald-100 text-emerald-700",REJECTED:"bg-red-100 text-red-700",SOLD:"bg-blue-100 text-blue-700",ARCHIVED:"bg-gray-100 text-gray-500"}},3507:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(8570).createProxy)(String.raw`C:\Users\HP\Desktop\Freelance\afrozonauto-frontend\src\app\(site)\seller\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[595,45,380,686],()=>s(5012));module.exports=r})();