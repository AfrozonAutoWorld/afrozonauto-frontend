(()=>{var e={};e.id=567,e.ids=[567],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},2694:e=>{"use strict";e.exports=require("http2")},8791:e=>{"use strict";e.exports=require("https")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},2597:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>h,tree:()=>c}),t(9500),t(7183),t(5866),t(5495);var a=t(3191),r=t(8716),l=t(7922),i=t.n(l),n=t(5231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(s,d);let c=["",{children:["(site)",{children:["request-details",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,9500)),"C:\\Users\\HP\\Desktop\\Freelance\\afrozonauto-frontend\\src\\app\\(site)\\request-details\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,7183)),"C:\\Users\\HP\\Desktop\\Freelance\\afrozonauto-frontend\\src\\app\\(site)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,5495)),"C:\\Users\\HP\\Desktop\\Freelance\\afrozonauto-frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\HP\\Desktop\\Freelance\\afrozonauto-frontend\\src\\app\\(site)\\request-details\\[id]\\page.tsx"],m="/(site)/request-details/[id]/page",x={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(site)/request-details/[id]/page",pathname:"/request-details/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},3478:(e,s,t)=>{Promise.resolve().then(t.bind(t,4226))},7888:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},6333:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},7358:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},4659:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},8998:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},8916:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},6283:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},8705:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},165:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},2822:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("Ship",[["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1 .6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"iegodh"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-9-4-9 4c0 2.9.94 5.34 2.81 7.76",key:"fp8vka"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M12 10v4",key:"1kjpxc"}],["path",{d:"M12 2v3",key:"qbqxhf"}]])},4228:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]])},4226:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>D});var a=t(326),r=t(405),l=t(7577),i=t(434),n=t(5047),d=t(8998),c=t(6283),o=t(8916),m=t(4659),x=t(7888),h=t(8705),p=t(2822),u=t(7636),y=t(4228),g=t(6333),b=t(7358);let f=(0,t(6557).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var j=t(165),N=t(5016),v=t(8156),w=t(29);let k={PENDING_QUOTE:{label:"Pending Quote",color:"bg-yellow-100 text-yellow-700 border-yellow-200",icon:d.Z,description:"Our team is preparing your detailed quote"},QUOTE_SENT:{label:"Quote Sent",color:"bg-blue-100 text-blue-700 border-blue-200",icon:c.Z,description:"Quote has been sent. Please review and approve"},DEPOSIT_PENDING:{label:"Payment Pending",color:"bg-orange-100 text-orange-700 border-orange-200",icon:o.Z,description:"Waiting for payment"},DEPOSIT_PAID:{label:"Payment Received",color:"bg-green-100 text-green-700 border-green-200",icon:m.Z,description:"Payment received. Processing your order"},INSPECTION_PENDING:{label:"Inspection Pending",color:"bg-yellow-100 text-yellow-700 border-yellow-200",icon:c.Z,description:"Vehicle inspection in progress"},INSPECTION_COMPLETE:{label:"Inspection Complete",color:"bg-blue-100 text-blue-700 border-blue-200",icon:m.Z,description:"Inspection report ready for review"},AWAITING_APPROVAL:{label:"Awaiting Approval",color:"bg-orange-100 text-orange-700 border-orange-200",icon:x.Z,description:"Please review and approve the inspection report"},APPROVED:{label:"Approved",color:"bg-green-100 text-green-700 border-green-200",icon:m.Z,description:"Order approved. Proceeding with purchase"},PURCHASE_IN_PROGRESS:{label:"Purchasing",color:"bg-blue-100 text-blue-700 border-blue-200",icon:h.Z,description:"Purchasing your vehicle from dealer"},PURCHASED:{label:"Purchased",color:"bg-green-100 text-green-700 border-green-200",icon:m.Z,description:"Vehicle purchased successfully"},SHIPPED:{label:"Shipped",color:"bg-blue-100 text-blue-700 border-blue-200",icon:p.Z,description:"Vehicle has been shipped"},IN_TRANSIT:{label:"In Transit",color:"bg-blue-100 text-blue-700 border-blue-200",icon:p.Z,description:"Vehicle is on the way"},ARRIVED_PORT:{label:"Arrived at Port",color:"bg-green-100 text-green-700 border-green-200",icon:u.Z,description:"Vehicle has arrived at destination port"},CUSTOMS_CLEARANCE:{label:"Customs Clearance",color:"bg-yellow-100 text-yellow-700 border-yellow-200",icon:c.Z,description:"Clearing customs formalities"},CLEARED:{label:"Cleared",color:"bg-green-100 text-green-700 border-green-200",icon:m.Z,description:"Customs clearance complete"},DELIVERY_SCHEDULED:{label:"Delivery Scheduled",color:"bg-blue-100 text-blue-700 border-blue-200",icon:y.Z,description:"Delivery date has been scheduled"},DELIVERED:{label:"Delivered",color:"bg-emerald-100 text-emerald-700 border-emerald-200",icon:m.Z,description:"Vehicle successfully delivered"},CANCELLED:{label:"Cancelled",color:"bg-red-100 text-red-700 border-red-200",icon:x.Z,description:"Order has been cancelled"}},P=["BALANCE_PAID","DELIVERED","CANCELLED"];function _(){var e;let{id:s}=(0,n.useParams)(),t=(0,n.useRouter)(),[r,h]=(0,l.useState)(!1),{order:y,isLoading:w,isError:_,refetch:D}=(0,v.gz)(s??"");if(w)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-emerald-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading order details..."})]})});if(!y)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow-sm max-w-md text-center",children:[a.jsx(x.Z,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Order Not Found"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"We couldn't find the order you're looking for."}),a.jsx("button",{onClick:()=>t.push("/dashboard"),className:"bg-emerald-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-emerald-700",children:"Back to Dashboard"})]})});if(_)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow-sm max-w-md text-center",children:[a.jsx(x.Z,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Error Loading Order"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"There was an error fetching your order details. Please try again."}),a.jsx("button",{onClick:()=>D(),className:"bg-emerald-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-emerald-700",children:"Retry"})]})});let S=k[y.status],A=S?.icon||d.Z,E=function(e){let s=e.vehicleSnapshot,t=e.vehicle;return s?.year&&s?.make&&s?.model?`${s.year} ${s.make} ${s.model}`:t?.year&&t?.make&&t?.model?`${t.year} ${t.make} ${t.model}`:e.requestNumber||`Order #${e.id}`}(y),q=(e=y,e.vehicleSnapshot?.apiData?.listing?.retailListing?.primaryImage||e.vehicleSnapshot?.apiData?.listing?.wholesaleListing?.primaryImage||(e.vehicleSnapshot?.images&&e.vehicleSnapshot.images.length>0?e.vehicleSnapshot.images[0]:e.vehicle?.images&&e.vehicle.images.length>0?e.vehicle.images[0]:"https://images.pexels.com/photos/170811/pexels-photo-170811.jpeg?auto=compress&cs=tinysrgb&w=800")),Z=y.paymentBreakdown?.totalUsd??y.totalLandedCostUsd??y.quotedPriceUsd??0,I=y.depositAmountUsd??y.paymentBreakdown?.totalUsedDeposit??0,L=y.payments?.reduce((e,s)=>s.status?.toUpperCase()==="COMPLETED"?e+(s.amountUsd??s.amount_usd??0):e,0)??0,T=Math.max(Z-L,0),O="DEPOSIT_PAID"===y.status||P.includes(y.status),U=!P.includes(y.status)&&T>0;return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white border-b border-gray-200",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,a.jsxs)("button",{onClick:()=>t.push("/dashboard"),className:"flex items-center gap-2 text-gray-600 hover:text-emerald-600 transition-colors",children:[a.jsx(g.Z,{className:"w-5 h-5"}),"Back to Dashboard"]})})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsx("div",{className:`rounded-xl border-2 p-6 mb-6 ${S?.color||"bg-gray-100 text-gray-700 border-gray-200"}`,children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-white rounded-lg",children:a.jsx(A,{className:"w-8 h-8"})}),(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-2xl font-bold mb-1",children:S?.label||y.status}),a.jsx("p",{className:"text-sm opacity-90",children:S?.description})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-medium opacity-75",children:"Order Number"}),a.jsx("p",{className:"text-xl font-bold",children:y.requestNumber})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-gray-100",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Vehicle Information"})}),a.jsx("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-6",children:[a.jsx("img",{src:q,alt:E,className:"w-full md:w-64 h-48 object-cover rounded-lg"}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-2xl font-bold text-gray-900 mb-2",children:E}),y.vehicleSnapshot?.vin&&(0,a.jsxs)("p",{className:"text-sm text-gray-500 mb-4",children:["VIN: ",y.vehicleSnapshot.vin]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[y.vehicleSnapshot?.vehicleType&&(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Type"}),a.jsx("p",{className:"font-semibold text-gray-900",children:y.vehicleSnapshot.vehicleType})]}),y.vehicleSnapshot?.transmission&&(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Transmission"}),a.jsx("p",{className:"font-semibold text-gray-900",children:y.vehicleSnapshot.transmission})]}),y.vehicleSnapshot?.fuelType&&(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Fuel Type"}),a.jsx("p",{className:"font-semibold text-gray-900",children:y.vehicleSnapshot.fuelType})]}),y.vehicleSnapshot?.apiData?.listing?.retailListing?.miles&&(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Mileage"}),(0,a.jsxs)("p",{className:"font-semibold text-gray-900",children:[y.vehicleSnapshot.apiData.listing.retailListing.miles.toLocaleString()," mi"]})]})]}),y.vehicleSnapshot?.dealerName&&(0,a.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Dealer"}),a.jsx("p",{className:"font-medium text-gray-900",children:y.vehicleSnapshot.dealerName}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[y.vehicleSnapshot.dealerCity,", ",y.vehicleSnapshot.dealerState]})]})]})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-gray-100",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Shipping & Delivery"})}),(0,a.jsxs)("div",{className:"p-6 space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-lg",children:[a.jsx(p.Z,{className:"w-6 h-6 text-emerald-600 mt-1"}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("p",{className:"font-semibold text-gray-900",children:"Shipping Method"}),a.jsx("p",{className:"text-gray-600",children:y.shippingMethod||"Not specified"})]})]}),(0,a.jsxs)("div",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-lg",children:[a.jsx(u.Z,{className:"w-6 h-6 text-emerald-600 mt-1"}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("p",{className:"font-semibold text-gray-900",children:"Delivery Address"}),a.jsx("p",{className:"text-gray-600",children:y.destinationAddress}),(0,a.jsxs)("p",{className:"text-gray-600",children:[y.destinationCity,", ",y.destinationState]}),a.jsx("p",{className:"text-gray-600",children:y.destinationCountry})]})]}),y.estimatedDeliveryDate&&(0,a.jsxs)("div",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-lg",children:[a.jsx(b.Z,{className:"w-6 h-6 text-emerald-600 mt-1"}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("p",{className:"font-semibold text-gray-900",children:"Estimated Delivery"}),a.jsx("p",{className:"text-gray-600",children:(0,N.p6)(y.estimatedDeliveryDate)})]})]}),y.deliveryInstructions&&(0,a.jsxs)("div",{className:"pt-4 border-t border-gray-100",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Delivery Instructions"}),a.jsx("p",{className:"text-sm text-gray-600",children:y.deliveryInstructions})]}),y.customerNotes&&(0,a.jsxs)("div",{className:"pt-4 border-t border-gray-100",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Your Notes"}),a.jsx("p",{className:"text-sm text-gray-600",children:y.customerNotes})]})]})]}),y.payments&&y.payments.length>0&&(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-gray-100",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Payment History"})}),a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Date"}),a.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Type"}),a.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Amount"}),a.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Status"}),a.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Reference"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:y.payments.map(e=>(0,a.jsxs)("tr",{children:[a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:(0,N.p6)(e.createdAt||e.created_at)}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 capitalize",children:e.paymentType||e.payment_type}),a.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:(0,N.xG)(e.amountUsd||e.amount_usd)}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${"completed"===e.status?"bg-green-100 text-green-700":"pending"===e.status?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:e.status})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:e.reference||e.paymentReference||"-"})]},e.id))})]})})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Cost Summary"}),y.paymentBreakdown?.breakdown?(0,a.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Vehicle Price"}),a.jsx("span",{className:"font-medium",children:(0,N.xG)(y.paymentBreakdown.breakdown.vehiclePriceUsd)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Sourcing Fee"}),a.jsx("span",{className:"font-medium",children:(0,N.xG)(y.paymentBreakdown.breakdown.sourcingFee)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Inspection"}),a.jsx("span",{className:"font-medium",children:(0,N.xG)(y.paymentBreakdown.breakdown.prePurchaseInspectionUsd)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"US Handling Fee"}),a.jsx("span",{className:"font-medium",children:(0,N.xG)(y.paymentBreakdown.breakdown.usHandlingFeeUsd)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Shipping"}),a.jsx("span",{className:"font-medium",children:(0,N.xG)(y.paymentBreakdown.breakdown.shippingCostUsd)})]})]}):(0,a.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Base Price"}),a.jsx("span",{className:"font-medium",children:(0,N.xG)(y.vehicleSnapshot?.priceUsd||0)})]}),y.quotedPriceUsd&&(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Quoted Price"}),a.jsx("span",{className:"font-medium",children:(0,N.xG)(y.quotedPriceUsd)})]})]}),(0,a.jsxs)("div",{className:"border-t border-gray-100 pt-3 mt-3",children:[(0,a.jsxs)("div",{className:"flex justify-between text-lg mb-2",children:[a.jsx("span",{className:"font-semibold text-gray-900",children:"Total Cost"}),a.jsx("span",{className:"font-bold text-gray-900",children:(0,N.xG)(y.paymentBreakdown?.totalUsd??0)})]}),y.totalLandedCostLocal&&y.localCurrency&&(0,a.jsxs)("p",{className:"text-right text-sm text-gray-600",children:["≈ ",(0,N.xG)(y.totalLandedCostLocal,"USD"===y.localCurrency||"NGN"===y.localCurrency?y.localCurrency:void 0)]})]}),(0,a.jsxs)("div",{className:"mt-6 space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{className:"text-gray-600",children:"Paid"}),a.jsx("span",{className:"font-medium text-green-600",children:(0,N.xG)(L)})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all",style:{width:`${Math.min(L/Z*100,100)}%`}})})]}),T>0&&(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Remaining"}),a.jsx("span",{className:"font-medium text-orange-600",children:(0,N.xG)(T)})]})]}),0===Z&&"PENDING_QUOTE"===y.status&&(0,a.jsxs)("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-blue-800 font-medium mb-1",children:"Quote Pending"}),a.jsx("p",{className:"text-xs text-blue-600",children:"Our team is preparing your detailed quote. Payment options will be available once the quote is ready."})]}),U&&a.jsx("div",{className:"mt-6",children:(0,a.jsxs)("button",{onClick:()=>h(!0),className:"w-full bg-emerald-600 text-white py-3 rounded-lg font-medium hover:bg-emerald-700 transition-colors flex items-center justify-center gap-2",children:[a.jsx(o.Z,{className:"w-5 h-5"}),"Make Payment"]})}),P.includes(y.status)&&(0,a.jsxs)("div",{className:"mt-6 bg-green-50 border border-green-200 rounded-lg p-4 flex items-center gap-3",children:[a.jsx(m.Z,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-green-800 font-medium",children:"Payment complete"})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Timeline"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-emerald-100 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(m.Z,{className:"w-4 h-4 text-emerald-600"})}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Request Submitted"}),a.jsx("p",{className:"text-sm text-gray-500",children:(0,N.p6)(y.createdAt)})]})]}),y.statusChangedAt&&(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(A,{className:"w-4 h-4 text-blue-600"})}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-gray-900",children:S?.label}),a.jsx("p",{className:"text-sm text-gray-500",children:(0,N.p6)(y.statusChangedAt)})]})]}),y.estimatedDeliveryDate&&(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(b.Z,{className:"w-4 h-4 text-gray-600"})}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Estimated Delivery"}),a.jsx("p",{className:"text-sm text-gray-500",children:(0,N.p6)(y.estimatedDeliveryDate)})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Documents"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("button",{className:"w-full flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx(c.Z,{className:"w-5 h-5 text-gray-400"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Quote Document"})]}),a.jsx(f,{className:"w-4 h-4 text-gray-400"})]}),(0,a.jsxs)("button",{className:"w-full flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors opacity-50 cursor-not-allowed",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx(c.Z,{className:"w-5 h-5 text-gray-400"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Inspection Report"})]}),a.jsx("span",{className:"text-xs text-gray-500",children:"Not available"})]})]})]}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[a.jsx(j.Z,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-semibold text-blue-900 mb-1",children:"Need Help?"}),a.jsx("p",{className:"text-sm text-blue-700 mb-3",children:"Our support team is here to assist you with your order."}),a.jsx(i.default,{href:"/contact",className:"text-sm font-medium text-blue-600 hover:text-blue-700 underline",children:"Contact Support"})]})]})})]})]})]}),r&&a.jsx(C,{orderId:y.id,depositAmount:I,totalCost:Z,remainingBalance:T,depositAlreadyPaid:O,onClose:()=>h(!1)})]})}function C({orderId:e,depositAmount:s,totalCost:t,remainingBalance:r,depositAlreadyPaid:i,onClose:n}){let d=!i&&s>0,c=i&&r>0,[o,m]=(0,l.useState)(()=>d?"deposit":c?"balance":"full"),{mutateAsync:x,isPending:h}=(0,w.vr)(),p={deposit:{amount:s,paymentType:"DEPOSIT"},full:{amount:t,paymentType:"FULL_PAYMENT"},balance:{amount:r,paymentType:"FULL_PAYMENT"}}[o],u=async()=>{try{await x({orderId:e,paymentType:p.paymentType,provider:"paystack",callbackUrl:`${process.env.NEXT_PUBLIC_PAY_CALLBACK_URL}`})}catch(e){console.error("Payment initialization failed:",e)}};return a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl w-full max-w-md shadow-2xl flex flex-col",children:[a.jsx("div",{className:"p-6 border-b border-gray-100",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Make Payment"}),a.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",disabled:h,children:"✕"})]})}),(0,a.jsxs)("div",{className:"p-6 space-y-3 flex-1",children:[d&&a.jsx("button",{onClick:()=>m("deposit"),disabled:h,className:`w-full p-4 border-2 rounded-lg text-left transition-all ${"deposit"===o?"border-emerald-500 bg-emerald-50":"border-gray-200 hover:border-gray-300"} ${h?"opacity-50 cursor-not-allowed":""}`,children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:"Pay Deposit"}),a.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:"Secure your order now, pay the rest later"})]}),a.jsx("p",{className:"text-lg font-bold text-emerald-600 whitespace-nowrap ml-4",children:(0,N.xG)(s)})]})}),!i&&t>0&&a.jsx("button",{onClick:()=>m("full"),disabled:h,className:`w-full p-4 border-2 rounded-lg text-left transition-all ${"full"===o?"border-emerald-500 bg-emerald-50":"border-gray-200 hover:border-gray-300"} ${h?"opacity-50 cursor-not-allowed":""}`,children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:"Pay Full Amount"}),a.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:"Complete the entire payment at once"})]}),a.jsx("p",{className:"text-lg font-bold text-emerald-600 whitespace-nowrap ml-4",children:(0,N.xG)(t)})]})}),c&&a.jsx("button",{onClick:()=>m("balance"),disabled:h,className:`w-full p-4 border-2 rounded-lg text-left transition-all border-emerald-500 bg-emerald-50 ${h?"opacity-50 cursor-not-allowed":""}`,children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:"Pay Remaining Balance"}),a.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:"Complete your outstanding balance"})]}),a.jsx("p",{className:"text-lg font-bold text-emerald-600 whitespace-nowrap ml-4",children:(0,N.xG)(r)})]})})]}),a.jsx("div",{className:"p-6 pt-0",children:a.jsx("button",{onClick:u,disabled:h||0===p.amount,className:"w-full px-4 py-3 bg-emerald-600 text-white rounded-lg font-medium hover:bg-emerald-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:h?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing..."]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(j.Z,{className:"w-5 h-5"}),"Pay ",(0,N.xG)(p.amount)]})})})]})})}function D(){return a.jsx(r.i,{children:a.jsx(_,{})})}},405:(e,s,t)=>{"use strict";t.d(s,{i:()=>n});var a=t(326),r=t(5047),l=t(9678),i=t(7577);function n({children:e,redirectTo:s="/login"}){(0,r.useRouter)();let{isAuthenticated:t,accessToken:n}=(0,l.tN)(),[d,c]=(0,i.useState)(l.tN.persist.hasHydrated());return d&&t&&n?a.jsx(a.Fragment,{children:e}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"w-10 h-10 border-4 border-emerald-600 border-t-transparent rounded-full animate-spin"})})}},8156:(e,s,t)=>{"use strict";t.d(s,{gz:()=>i,j4:()=>n,nh:()=>l});var a=t(108),r=t(6082);function l(){let e=(0,a.a)({queryKey:["orders"],queryFn:()=>r.k.getAllOrder(),staleTime:3e5,refetchOnWindowFocus:!1});return{orders:e.data?.orders??[],total:e.data?.total??0,page:e.data?.page??1,limit:e.data?.limit??10,totalPages:e.data?.totalPages??1,isLoading:e.isLoading,isError:e.isError,error:e.error,refetch:e.refetch,isFetching:e.isFetching}}function i(e){let s=(0,a.a)({queryKey:["order",e],queryFn:()=>r.k.getOrderById(e),enabled:!!e,staleTime:3e5,refetchOnWindowFocus:!1});return{order:s.data,isLoading:s.isLoading,isError:s.isError,error:s.error,refetch:s.refetch,isFetching:s.isFetching}}let n=(e,s)=>{let{data:t,isLoading:l,isError:i,error:n}=(0,a.a)({queryKey:["costBreakdown",e,s],queryFn:()=>r.k.getPredefinePrices(e,s),enabled:!!e&&!!s,staleTime:3e5});return{costBreakdown:t,isLoading:l,isError:i,error:n}}},29:(e,s,t)=>{"use strict";t.d(s,{qm:()=>c,vr:()=>o,rZ:()=>m});var a=t(108),r=t(119),l=t(4976),i=t(5137);let n={getAllPayments:()=>i.x.get("/payments/all"),paymentInit:e=>i.x.post("/payments/init",e),paymentVerify:e=>i.x.patch(`/payments/verify/${e}?provider=paystack`,{})};var d=t(6105);function c(){let e=(0,a.a)({queryKey:["payments"],queryFn:async()=>(await n.getAllPayments()).data.data,staleTime:3e5,refetchOnWindowFocus:!1});return{allPayments:e.data,isLoading:e.isLoading,isError:e.isError,error:e.error,refetch:e.refetch,isFetching:e.isFetching}}let o=()=>(0,r.D)({mutationFn:async e=>(await n.paymentInit(e)).data.data,onSuccess:e=>{(0,d.C)({type:"success",message:"Payment initialized successfully!"}),e.authorizationUrl&&(window.location.href=e.authorizationUrl)},onError:e=>{(0,d.C)({type:"error",message:e.message||"Failed to initialize payment. Please try again."})}}),m=()=>{let e=(0,l.NL)();return(0,r.D)({mutationFn:async({reference:e})=>(await n.paymentVerify(e)).data.data,onSuccess:({success:s,message:t})=>{e.invalidateQueries({queryKey:["requests"]}),s?(0,d.C)({type:"success",message:t||"Payment verified successfully!"}):(0,d.C)({type:"error",message:t||"Payment verification failed"})},onError:e=>{(0,d.C)({type:"error",message:e.message||"Failed to verify payment."})}})}},6082:(e,s,t)=>{"use strict";t.d(s,{k:()=>r});var a=t(5137);let r={getAllOrder:async()=>(await a.x.get("/orders/my-orders")).data.data,requestVehicle:async e=>(await a.x.post("/orders",e)).data.data,getOrderById:async e=>(await a.x.get(`/orders/${e}`)).data.data,getPredefinePrices:async(e,s)=>(await a.x.get(`/orders/order-summary/${e}/?shippingMethod=${s}`)).data.data}},5016:(e,s,t)=>{"use strict";t.d(s,{LI:()=>c,X:()=>n,p6:()=>d,qA:()=>l,xG:()=>i,yG:()=>o});let a={sourcing_fee_percent:5,sourcing_fee_min_usd:500,inspection_fee_usd:150,us_handling_fee_usd:350,shipping_roro_base_usd:1800,shipping_container_base_usd:2500,exchange_rate_ngn_usd:1550,timeline_days_roro:45,timeline_days_container:60},r={CAR:1,SEDAN:1,COUPE:1,HATCHBACK:1,WAGON:1.05,CONVERTIBLE:1.05,SUV:1.15,TRUCK:1.25,VAN:1.2,MOTORCYCLE:0};function l(e,s,t,l=a){let i=r[s]||1,n=Math.max(l.sourcing_fee_percent/100*e,l.sourcing_fee_min_usd),d=l.inspection_fee_usd,c=l.us_handling_fee_usd,o=("RORO"===t?l.shipping_roro_base_usd:l.shipping_container_base_usd)*i,m=e+n+d+c+o,x=m*l.exchange_rate_ngn_usd;return{breakdown:{vehicle_price:e,sourcing_fee:n,inspection_fee:d,us_handling_fee:c,shipping_cost:o,total_usd:m,total_ngn:x,exchange_rate:l.exchange_rate_ngn_usd},estimatedDeliveryDays:"RORO"===t?l.timeline_days_roro:l.timeline_days_container,depositAmount:.3*m}}function i(e,s="USD"){return"NGN"===s?new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0,maximumFractionDigits:0}).format(e):new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function n(e){let s=new Date;return s.setDate(s.getDate()+e),s}function d(e){return("string"==typeof e?new Date(e):e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}let c=["Lagos","Abuja","Port Harcourt","Kano","Ibadan","Enugu","Kaduna","Benin City","Warri","Calabar","Aba","Jos","Ilorin","Onitsha","Abeokuta","Uyo","Owerri","Akure","Bauchi","Sokoto"],o=["Toyota","Honda","Ford","Chevrolet","BMW","Mercedes-Benz","Lexus","Nissan","Hyundai","Kia","Mazda","Volkswagen","Audi","Subaru","Jeep","Dodge","Ram","GMC","Acura","Infiniti","Cadillac","Lincoln","Volvo","Land Rover","Porsche"]},9500:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(8570).createProxy)(String.raw`C:\Users\HP\Desktop\Freelance\afrozonauto-frontend\src\app\(site)\request-details\[id]\page.tsx#default`)}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[595,45,380,686],()=>t(2597));module.exports=a})();