(()=>{var e={};e.id=313,e.ids=[313],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},2694:e=>{"use strict";e.exports=require("http2")},8791:e=>{"use strict";e.exports=require("https")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},665:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>o}),s(6766),s(7183),s(5866),s(5495);var r=s(3191),a=s(8716),l=s(7922),i=s.n(l),n=s(5231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(t,d);let o=["",{children:["(site)",{children:["marketplace",{children:["request",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,6766)),"C:\\Users\\HP\\Desktop\\Freelance\\afrozonauto-frontend\\src\\app\\(site)\\marketplace\\request\\[id]\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,7183)),"C:\\Users\\HP\\Desktop\\Freelance\\afrozonauto-frontend\\src\\app\\(site)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,5495)),"C:\\Users\\HP\\Desktop\\Freelance\\afrozonauto-frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\HP\\Desktop\\Freelance\\afrozonauto-frontend\\src\\app\\(site)\\marketplace\\request\\[id]\\page.tsx"],m="/(site)/marketplace/request/[id]/page",x={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(site)/marketplace/request/[id]/page",pathname:"/marketplace/request/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},4395:(e,t,s)=>{Promise.resolve().then(s.bind(s,8882))},6333:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(6557).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},4659:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(6557).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},8916:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(6557).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},165:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(6557).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},8882:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var r=s(326),a=s(5047),l=s(405),i=s(7577),n=s(434),d=s(1536),o=s(4659),c=s(6333),m=s(7636),x=s(8916),u=s(165);let h=(0,s(6557).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);var p=s(8695),f=s(8667),b=s(6105);function g({vehicleId:e}){let t=(0,a.useRouter)(),{data:s,isLoading:l,error:g}=(0,p.ZP)(e),y=(0,p.dW)(),[j,N]=(0,i.useState)(""),[v,w]=(0,i.useState)(!1);if(l)return r.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:r.jsx("div",{className:"w-10 h-10 border-4 border-emerald-600 border-t-transparent rounded-full animate-spin"})});if(g||!s)return(0,r.jsxs)("div",{className:"max-w-2xl mx-auto px-4 py-16 text-center",children:[r.jsx(d.Z,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Vehicle Not Found"}),r.jsx("p",{className:"text-gray-500 mb-6",children:"This vehicle may no longer be available."}),r.jsx(n.default,{href:"/vehicles",className:"text-emerald-600 hover:text-emerald-700 font-medium",children:"Browse Vehicles"})]});let k=s.images?.find(e=>e.is_primary)?.url||s.images?.[0]?.url,q=f.Jo,P=s.price_usd-q,_=async()=>{try{await y.mutateAsync({vehicle_id:e,notes:j}),w(!0),(0,b.C)({type:"success",message:"Request created! Pay your deposit to proceed."})}catch(t){let e=t instanceof Error?t.message:"Failed to create request";(0,b.C)({type:"error",message:e})}};return v?(0,r.jsxs)("div",{className:"max-w-2xl mx-auto px-4 py-16 text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(o.Z,{className:"w-8 h-8 text-emerald-600"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Request Created"}),(0,r.jsxs)("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:["Your request for the ",s.year," ",s.make," ",s.model," has been created. Head to your dashboard to pay the deposit and proceed with the purchase."]}),(0,r.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[r.jsx("button",{onClick:()=>t.push("/dashboard"),className:"bg-emerald-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-emerald-700 transition-colors",children:"Go to Dashboard"}),r.jsx(n.default,{href:"/vehicles",className:"text-gray-600 hover:text-gray-900 font-medium",children:"Continue Browsing"})]})]}):(0,r.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("button",{onClick:()=>t.back(),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6 transition-colors",children:[r.jsx(c.Z,{className:"w-4 h-4"}),"Back"]}),(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-gray-900 to-emerald-900 px-6 py-8 text-white",children:[r.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Request Vehicle"}),r.jsx("p",{className:"text-emerald-200",children:"Submit a purchase request and pay a deposit to secure this vehicle."})]}),(0,r.jsxs)("div",{className:"p-6 lg:p-8",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-6 mb-8 pb-8 border-b border-gray-100",children:[r.jsx("div",{className:"w-full md:w-48 h-36 bg-gray-100 rounded-xl overflow-hidden flex-shrink-0",children:k?r.jsx("img",{src:k,alt:s.title,className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsx(d.Z,{className:"w-10 h-10 text-gray-300"})})}),(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-1",children:s.title||`${s.year} ${s.make} ${s.model}`}),(0,r.jsxs)("p",{className:"text-gray-500 mb-3",children:[s.year," ",s.make," ",s.model," - ",s.transmission," - ",s.fuel_type]}),(s.location_city||s.location_state)&&(0,r.jsxs)("div",{className:"flex items-center gap-1 text-sm text-gray-500 mb-2",children:[r.jsx(m.Z,{className:"w-4 h-4"}),[s.location_city,s.location_state].filter(Boolean).join(", ")]}),(0,r.jsxs)("p",{className:"text-2xl font-bold text-emerald-600",children:["$",Number(s.price_usd).toLocaleString()]})]})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[(0,r.jsxs)("div",{className:"bg-emerald-50 rounded-xl p-5",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(x.Z,{className:"w-5 h-5 text-emerald-600"}),r.jsx("h3",{className:"font-semibold text-gray-900",children:"Payment Breakdown"})]}),(0,r.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Deposit (due now)"}),(0,r.jsxs)("span",{className:"font-semibold text-gray-900",children:["$",q.toLocaleString()]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Remaining balance"}),(0,r.jsxs)("span",{className:"font-semibold text-gray-900",children:["$",P.toLocaleString()]})]}),(0,r.jsxs)("div",{className:"border-t border-emerald-200 pt-2 mt-2 flex justify-between",children:[r.jsx("span",{className:"font-medium text-gray-900",children:"Total"}),(0,r.jsxs)("span",{className:"font-bold text-emerald-700",children:["$",Number(s.price_usd).toLocaleString()]})]})]})]}),(0,r.jsxs)("div",{className:"bg-gray-50 rounded-xl p-5",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(u.Z,{className:"w-5 h-5 text-gray-700"}),r.jsx("h3",{className:"font-semibold text-gray-900",children:"How It Works"})]}),(0,r.jsxs)("ol",{className:"space-y-2 text-sm text-gray-600",children:[(0,r.jsxs)("li",{className:"flex gap-2",children:[r.jsx("span",{className:"flex-shrink-0 w-5 h-5 bg-emerald-600 text-white text-xs rounded-full flex items-center justify-center font-medium",children:"1"}),"Pay a refundable deposit to show commitment"]}),(0,r.jsxs)("li",{className:"flex gap-2",children:[r.jsx("span",{className:"flex-shrink-0 w-5 h-5 bg-emerald-600 text-white text-xs rounded-full flex items-center justify-center font-medium",children:"2"}),"Our team verifies the vehicle availability"]}),(0,r.jsxs)("li",{className:"flex gap-2",children:[r.jsx("span",{className:"flex-shrink-0 w-5 h-5 bg-emerald-600 text-white text-xs rounded-full flex items-center justify-center font-medium",children:"3"}),"Pay the remaining balance to complete your purchase"]})]})]})]}),(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (optional)"}),r.jsx("textarea",{value:j,onChange:e=>N(e.target.value),placeholder:"Any specific questions or requirements...",rows:3,className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all resize-none"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-6 p-4 bg-amber-50 border border-amber-200 rounded-lg",children:[r.jsx(h,{className:"w-5 h-5 text-amber-600 flex-shrink-0"}),(0,r.jsxs)("p",{className:"text-sm text-amber-800",children:["A deposit of ",(0,r.jsxs)("strong",{children:["$",q.toLocaleString()]})," is required to proceed. You will be able to pay after creating the request."]})]}),r.jsx("button",{onClick:_,disabled:y.isPending,className:"w-full bg-emerald-600 text-white py-3.5 rounded-lg font-semibold hover:bg-emerald-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:y.isPending?r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(x.Z,{className:"w-5 h-5"}),"Submit Purchase Request"]})})]})]})]})}function y(){let e=(0,a.useParams)();return r.jsx(l.i,{children:r.jsx(g,{vehicleId:e.id})})}},405:(e,t,s)=>{"use strict";s.d(t,{i:()=>n});var r=s(326),a=s(5047),l=s(9678),i=s(7577);function n({children:e,redirectTo:t="/login"}){(0,a.useRouter)();let{isAuthenticated:s,accessToken:n}=(0,l.tN)(),[d,o]=(0,i.useState)(l.tN.persist.hasHydrated());return d&&s&&n?r.jsx(r.Fragment,{children:e}):r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"w-10 h-10 border-4 border-emerald-600 border-t-transparent rounded-full animate-spin"})})}},8667:(e,t,s)=>{"use strict";s.d(t,{Jo:()=>r,Pm:()=>a,ac:()=>l});let r=500,a={DRAFT:"Draft",PENDING_REVIEW:"Pending Review",APPROVED:"Approved",REJECTED:"Rejected",SOLD:"Sold",ARCHIVED:"Archived"},l={DRAFT:"bg-gray-100 text-gray-700",PENDING_REVIEW:"bg-amber-100 text-amber-700",APPROVED:"bg-emerald-100 text-emerald-700",REJECTED:"bg-red-100 text-red-700",SOLD:"bg-blue-100 text-blue-700",ARCHIVED:"bg-gray-100 text-gray-500"}},6766:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(8570).createProxy)(String.raw`C:\Users\HP\Desktop\Freelance\afrozonauto-frontend\src\app\(site)\marketplace\request\[id]\page.tsx#default`)}};var t=require("../../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[595,45,380,686],()=>s(665));module.exports=r})();