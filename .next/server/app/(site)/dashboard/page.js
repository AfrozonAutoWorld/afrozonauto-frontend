(()=>{var e={};e.id=639,e.ids=[639],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},2694:e=>{"use strict";e.exports=require("http2")},8791:e=>{"use strict";e.exports=require("https")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},5819:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>o}),t(3060),t(7183),t(5866),t(5495);var a=t(3191),r=t(8716),l=t(7922),n=t.n(l),i=t(5231),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);t.d(s,d);let o=["",{children:["(site)",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,3060)),"C:\\Users\\HP\\Desktop\\Freelance\\afrozonauto-frontend\\src\\app\\(site)\\dashboard\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,7183)),"C:\\Users\\HP\\Desktop\\Freelance\\afrozonauto-frontend\\src\\app\\(site)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,5495)),"C:\\Users\\HP\\Desktop\\Freelance\\afrozonauto-frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\HP\\Desktop\\Freelance\\afrozonauto-frontend\\src\\app\\(site)\\dashboard\\page.tsx"],m="/(site)/dashboard/page",x={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(site)/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},9560:(e,s,t)=>{Promise.resolve().then(t.bind(t,7841))},7888:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},4659:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},1890:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},9183:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},8998:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},8916:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},1216:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},2714:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},6283:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},7427:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},9015:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},8705:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},2822:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("Ship",[["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1 .6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"iegodh"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-9-4-9 4c0 2.9.94 5.34 2.81 7.76",key:"fp8vka"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M12 10v4",key:"1kjpxc"}],["path",{d:"M12 2v3",key:"qbqxhf"}]])},4228:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]])},7841:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>Y});var a=t(326),r=t(405),l=t(7577),n=t(434),i=t(5047),d=t(1890),o=t(9183),c=t(8998),m=t(6283),x=t(8916),u=t(4659),h=t(7888),p=t(8705),g=t(2822),y=t(7636),b=t(4228),f=t(1536),N=t(7427),j=t(9635),v=t(5016),w=t(348),P=t(4976),k=t(119),C=t(108),Z=t(5137);let A={getAllAddresses:async()=>{try{return await Z.x.get("/addresses")}catch(e){throw console.error("Error fetching vehicles:",e),Error("Failed to fetch vehicles")}},getDefualtAllAddress:async()=>{try{return await Z.x.get("/addresses/default?type=NORMAL")}catch(e){throw console.error("Error fetching vehicles:",e),Error("Failed to fetch vehicles")}},addUserAddress:async e=>Z.x.post("/addresses",e),updateAddress:async(e,s)=>{try{return await Z.x.patch(`/addresses/${e}`,s)}catch(e){throw console.error("Error updating address:",e),Error("Failed to update address")}},deleteAddress:async e=>{try{return await Z.x.delete(`/addresses/${e}`)}catch(e){throw console.error("Error deleting address:",e),Error("Failed to delete address")}}};var _=t(6105);function S(){let e=(0,P.NL)(),s=(0,k.D)({mutationFn:e=>A.addUserAddress(e),onSuccess:()=>{e.invalidateQueries({queryKey:["addressess",""]}),e.invalidateQueries({queryKey:["addresses","default"]}),(0,_.C)({type:"success",message:"Address added successfully!"})},onError:e=>{(0,_.C)({type:"error",message:e.message||"Failed to add address"})}}),t=(0,k.D)({mutationFn:({id:e,data:s})=>A.updateAddress(e,s),onSuccess:()=>{e.invalidateQueries({queryKey:["addresses"]}),e.invalidateQueries({queryKey:["addresses","default"]}),(0,_.C)({type:"success",message:"Address updated successfully!"})},onError:e=>{(0,_.C)({type:"error",message:e.message||"Failed to add address"})}}),a=(0,k.D)({mutationFn:({id:e})=>A.deleteAddress(e),onSuccess:()=>{e.invalidateQueries({queryKey:["addresses"]}),e.invalidateQueries({queryKey:["addresses","default"]}),(0,_.C)({type:"success",message:"Address added successfully!"})},onError:e=>{(0,_.C)({type:"error",message:e.message||"Failed to add address"})}});return{updateAddress:t.mutateAsync,addUserAddress:s.mutateAsync,deleteAddress:a.mutateAsync}}var D=t(4019),E=t(5128);function I({form:e,label:s,name:t,type:r="text"}){let l=e.values[t],n=null==l?"":String(l);return(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:s}),a.jsx("input",{name:t,type:r,value:n,onChange:e.handleChange,className:`w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-emerald-500 ${e.errors[t]?"border-red-300":"border-gray-300"}`}),e.errors[t]&&(0,a.jsxs)("p",{className:"text-red-600 text-sm flex items-center gap-1 mt-1",children:[a.jsx(h.Z,{className:"w-4 h-4"}),e.errors[t]]})]})}var q=t(1496);function L({onClose:e,onSuccess:s}){let{addUserAddress:t}=S(),[r,n]=(0,l.useState)(!1),i=(0,q.c)({schema:E.WV,initialValues:{type:"NORMAL",street:"",firstName:"",lastName:"",city:"",state:"",postalCode:"",country:"",isDefault:!1,additionalInfo:"",phoneNumber:"",additionalPhoneNumber:""},onSubmit:async a=>{n(!0);try{await t(a),s(),e()}finally{n(!1)}}});return a.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white w-full max-w-2xl rounded-xl p-6 space-y-4 max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Add New Address"}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(D.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)("form",{onSubmit:i.handleSubmit,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Address Type"}),(0,a.jsxs)("select",{name:"type",value:i.values.type,onChange:i.handleChange,className:`w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-emerald-500 ${i.errors.type?"border-red-300":"border-gray-300"}`,children:[a.jsx("option",{value:"NORMAL",children:"Normal"}),a.jsx("option",{value:"BILLING",children:"Billing"}),a.jsx("option",{value:"SHIPPING",children:"Shipping"})]}),i.errors.type&&(0,a.jsxs)("p",{className:"text-red-600 text-sm flex items-center gap-1 mt-1",children:[a.jsx(h.Z,{className:"w-4 h-4"}),i.errors.type]})]}),a.jsx("div",{className:"md:col-span-2"})," ",a.jsx(I,{label:"First Name",name:"firstName",type:"text",form:i}),a.jsx(I,{label:"Last Name",name:"lastName",type:"text",form:i}),a.jsx(I,{label:"Street Address",name:"street",type:"text",form:i}),a.jsx(I,{label:"City",name:"city",type:"text",form:i}),a.jsx(I,{label:"State/Province",name:"state",type:"text",form:i}),a.jsx(I,{label:"Postal Code",name:"postalCode",type:"text",form:i}),a.jsx(I,{label:"Country",name:"country",type:"text",form:i}),a.jsx(I,{label:"Phone Number",name:"phoneNumber",type:"tel",form:i}),a.jsx(I,{label:"Additional Phone (Optional)",name:"additionalPhoneNumber",type:"tel",form:i}),a.jsx(I,{label:"Additional Info (Optional)",name:"additionalInfo",type:"text",form:i}),(0,a.jsxs)("div",{className:"flex items-center gap-2 md:col-span-2",children:[a.jsx("input",{type:"checkbox",name:"isDefault",checked:i.values.isDefault,onChange:i.handleChange,className:"w-4 h-4 text-emerald-600 border-gray-300 rounded focus:ring-emerald-500"}),a.jsx("label",{className:"text-sm font-medium cursor-pointer",children:"Set as default address"})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t md:col-span-2",children:[a.jsx("button",{type:"button",onClick:e,className:"border border-gray-300 px-4 py-2 rounded-lg hover:bg-gray-50",disabled:i.isSubmitting,children:"Cancel"}),a.jsx("button",{type:"submit",disabled:i.isSubmitting,className:"bg-emerald-600 text-white px-6 py-2 rounded-lg hover:bg-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Saving...":"Save Address"})]})]})]})})}var F=t(5932),O=t(9015),M=t(1216),R=t(2714);function T({onClose:e,onSuccess:s}){let{resetPassword:t}=(0,w.G)(),[r,n]=(0,l.useState)(!1),i=(0,q.c)({schema:E.S4,initialValues:{email:"",token:"",newPassword:"",confirmPassword:""},onSubmit:async a=>{try{await t(a),s(),e()}catch(e){console.error("Login failed:",e)}}});return a.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4",children:a.jsx("form",{onSubmit:i.handleSubmit,className:"space-y-5",children:(0,a.jsxs)("div",{className:"bg-white w-full max-w-md rounded-xl p-6 space-y-5",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Reset Password"}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:a.jsx(D.Z,{className:"w-5 h-5"})})]}),a.jsx("div",{children:a.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Enter the reset code sent to your email and choose a new password."})}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(F.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"email",name:"email",value:i.values.email,onChange:i.handleChange,placeholder:"you@example.com",className:`w-full pl-12 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent ${i.errors.email?"border-red-300":"border-gray-300"}`})]}),i.errors.email&&(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-2 text-red-600 text-sm",children:[a.jsx(h.Z,{className:"w-4 h-4"}),a.jsx("span",{children:i.errors.email})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"OTP Code"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(F.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"token",name:"token",value:i.values.token,onChange:i.handleChange,placeholder:"otp code",className:`w-full pl-12 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent ${i.errors.email?"border-red-300":"border-gray-300"}`})]}),i.errors.token&&(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-2 text-red-600 text-sm",children:[a.jsx(h.Z,{className:"w-4 h-4"}),a.jsx("span",{children:i.errors.token})]})]}),a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(O.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:r?"text":"password",name:"newPassword",value:i.values.newPassword,onChange:i.handleChange,placeholder:"Enter your password",className:`w-full pl-12 pr-12 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent ${i.errors.newPassword?"border-red-300":"border-gray-300"}`}),a.jsx("button",{type:"button",onClick:()=>n(!r),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r?a.jsx(M.Z,{className:"w-5 h-5"}):a.jsx(R.Z,{className:"w-5 h-5"})})]}),i.errors.newPassword&&(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-2 text-red-600 text-sm",children:[a.jsx(h.Z,{className:"w-4 h-4"}),a.jsx("span",{children:i.errors.newPassword})]}),a.jsx("button",{type:"submit",disabled:i.isSubmitting,className:"w-full bg-emerald-600 text-white py-3 rounded-lg font-semibold hover:bg-emerald-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:i.isSubmitting?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Changing Password..."]}):"Change Password"})]})})})}function U({address:e,onClose:s,onSuccess:t}){let{updateAddress:r}=S(),l=(0,q.c)({schema:E.WV,initialValues:{type:e.type||"NORMAL",street:e.street||"",firstName:e.firstName||"",lastName:e.lastName||"",city:e.city||"",state:e.state||"",postalCode:e.postalCode||"",country:e.country||"",isDefault:e.isDefault||!1,additionalInfo:e.additionalInfo||"",phoneNumber:e.phoneNumber||"",additionalPhoneNumber:e.additionalPhoneNumber||""},onSubmit:async a=>{await r({id:e.id,data:a}),t(),s()}});return a.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white w-full max-w-2xl rounded-xl p-6 space-y-4 max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Update Address"}),a.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:a.jsx(D.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)("form",{onSubmit:l.handleSubmit,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Address Type"}),(0,a.jsxs)("select",{name:"type",value:l.values.type||"",onChange:l.handleChange,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[a.jsx("option",{value:"NORMAL",children:"Normal"}),a.jsx("option",{value:"BILLING",children:"Billing"}),a.jsx("option",{value:"SHIPPING",children:"Shipping"})]}),l.errors.type&&(0,a.jsxs)("p",{className:"text-red-600 text-sm flex items-center gap-1 mt-1",children:[a.jsx(h.Z,{className:"w-4 h-4"}),l.errors.type]})]}),a.jsx("div",{className:"md:col-span-2"}),a.jsx(I,{form:l,label:"First Name",name:"firstName"}),a.jsx(I,{form:l,label:"Last Name",name:"lastName"}),a.jsx(I,{form:l,label:"Street Address",name:"street"}),a.jsx(I,{form:l,label:"City",name:"city"}),a.jsx(I,{form:l,label:"State/Province",name:"state"}),a.jsx(I,{form:l,label:"Postal Code",name:"postalCode"}),a.jsx(I,{form:l,label:"Country",name:"country"}),a.jsx(I,{form:l,label:"Phone Number",name:"phoneNumber",type:"tel"}),a.jsx(I,{form:l,label:"Additional Phone (Optional)",name:"additionalPhoneNumber",type:"tel"}),a.jsx(I,{form:l,label:"Additional Info (Optional)",name:"additionalInfo"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 md:col-span-2",children:[a.jsx("input",{type:"checkbox",name:"isDefault",checked:l.values.isDefault,onChange:l.handleChange,className:"w-4 h-4 text-emerald-600 border-gray-300 rounded focus:ring-emerald-500"}),a.jsx("label",{className:"text-sm font-medium cursor-pointer",children:"Set as default address"})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t md:col-span-2",children:[a.jsx("button",{type:"button",onClick:s,className:"border border-gray-300 px-4 py-2 rounded-lg hover:bg-gray-50",disabled:l.isSubmitting,children:"Cancel"}),a.jsx("button",{type:"submit",disabled:l.isSubmitting,className:"bg-emerald-600 text-white px-6 py-2 rounded-lg hover:bg-emerald-700 disabled:opacity-50",children:l.isSubmitting?"Saving...":"Update Address"})]})]})]})})}var V=t(8156),G=t(29),$=t(9678);function z({currentPage:e,totalPages:s,onPageChange:t}){return s<=1?null:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-1 px-6 py-4 bg-gray-50 border-t border-gray-200",children:[a.jsx("button",{onClick:()=>t(e-1),disabled:1===e,className:"p-1.5 rounded-md text-gray-600 hover:bg-gray-200 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:a.jsx(d.Z,{className:"w-4 h-4"})}),(()=>{let t=[];if(s<=7){for(let e=1;e<=s;e++)t.push(e);return t}t.push(1),e>3&&t.push("...");let a=Math.max(2,e-1),r=Math.min(s-1,e+1);for(let e=a;e<=r;e++)t.push(e);return e<s-2&&t.push("..."),t.push(s),t})().map((s,r)=>"..."===s?a.jsx("span",{className:"px-2 text-gray-400 text-sm select-none",children:"…"},`ellipsis-${r}`):a.jsx("button",{onClick:()=>t(s),className:`w-8 h-8 rounded-md text-sm font-medium transition-colors ${e===s?"bg-emerald-600 text-white":"text-gray-600 hover:bg-gray-200"}`,children:s},s)),a.jsx("button",{onClick:()=>t(e+1),disabled:e===s,className:"p-1.5 rounded-md text-gray-600 hover:bg-gray-200 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:a.jsx(o.Z,{className:"w-4 h-4"})})]})}let H={pending_quote:{label:"Pending Quote",color:"bg-yellow-100 text-yellow-700",icon:c.Z},PENDING_QUOTE:{label:"Pending Quote",color:"bg-yellow-100 text-yellow-700",icon:c.Z},quote_sent:{label:"Quote Sent",color:"bg-blue-100 text-blue-700",icon:m.Z},QUOTE_SENT:{label:"Quote Sent",color:"bg-blue-100 text-blue-700",icon:m.Z},deposit_pending:{label:"Deposit Pending",color:"bg-orange-100 text-orange-700",icon:x.Z},DEPOSIT_PENDING:{label:"Deposit Pending",color:"bg-orange-100 text-orange-700",icon:x.Z},deposit_paid:{label:"Deposit Paid",color:"bg-green-100 text-green-700",icon:u.Z},DEPOSIT_PAID:{label:"Deposit Paid",color:"bg-green-100 text-green-700",icon:u.Z},balance_paid:{label:"Balance Paid",color:"bg-green-100 text-green-700",icon:u.Z},BALANCE_PAID:{label:"Balance Paid",color:"bg-green-100 text-green-700",icon:u.Z},inspection_pending:{label:"Inspection Pending",color:"bg-yellow-100 text-yellow-700",icon:m.Z},INSPECTION_PENDING:{label:"Inspection Pending",color:"bg-yellow-100 text-yellow-700",icon:m.Z},inspection_complete:{label:"Inspection Complete",color:"bg-blue-100 text-blue-700",icon:u.Z},INSPECTION_COMPLETE:{label:"Inspection Complete",color:"bg-blue-100 text-blue-700",icon:u.Z},awaiting_approval:{label:"Awaiting Approval",color:"bg-orange-100 text-orange-700",icon:h.Z},AWAITING_APPROVAL:{label:"Awaiting Approval",color:"bg-orange-100 text-orange-700",icon:h.Z},approved:{label:"Approved",color:"bg-green-100 text-green-700",icon:u.Z},APPROVED:{label:"Approved",color:"bg-green-100 text-green-700",icon:u.Z},purchase_in_progress:{label:"Purchasing",color:"bg-blue-100 text-blue-700",icon:p.Z},PURCHASE_IN_PROGRESS:{label:"Purchasing",color:"bg-blue-100 text-blue-700",icon:p.Z},purchased:{label:"Purchased",color:"bg-green-100 text-green-700",icon:u.Z},PURCHASED:{label:"Purchased",color:"bg-green-100 text-green-700",icon:u.Z},export_pending:{label:"Export Pending",color:"bg-yellow-100 text-yellow-700",icon:p.Z},EXPORT_PENDING:{label:"Export Pending",color:"bg-yellow-100 text-yellow-700",icon:p.Z},shipped:{label:"Shipped",color:"bg-blue-100 text-blue-700",icon:g.Z},SHIPPED:{label:"Shipped",color:"bg-blue-100 text-blue-700",icon:g.Z},in_transit:{label:"In Transit",color:"bg-blue-100 text-blue-700",icon:g.Z},IN_TRANSIT:{label:"In Transit",color:"bg-blue-100 text-blue-700",icon:g.Z},arrived_port:{label:"Arrived at Port",color:"bg-green-100 text-green-700",icon:y.Z},ARRIVED_PORT:{label:"Arrived at Port",color:"bg-green-100 text-green-700",icon:y.Z},customs_clearance:{label:"Customs Clearance",color:"bg-yellow-100 text-yellow-700",icon:m.Z},CUSTOMS_CLEARANCE:{label:"Customs Clearance",color:"bg-yellow-100 text-yellow-700",icon:m.Z},cleared:{label:"Cleared",color:"bg-green-100 text-green-700",icon:u.Z},CLEARED:{label:"Cleared",color:"bg-green-100 text-green-700",icon:u.Z},delivery_scheduled:{label:"Delivery Scheduled",color:"bg-blue-100 text-blue-700",icon:b.Z},DELIVERY_SCHEDULED:{label:"Delivery Scheduled",color:"bg-blue-100 text-blue-700",icon:b.Z},delivered:{label:"Delivered",color:"bg-emerald-100 text-emerald-700",icon:u.Z},DELIVERED:{label:"Delivered",color:"bg-emerald-100 text-emerald-700",icon:u.Z},cancelled:{label:"Cancelled",color:"bg-red-100 text-red-700",icon:h.Z},CANCELLED:{label:"Cancelled",color:"bg-red-100 text-red-700",icon:h.Z},refunded:{label:"Refunded",color:"bg-gray-100 text-gray-700",icon:x.Z},REFUNDED:{label:"Refunded",color:"bg-gray-100 text-gray-700",icon:x.Z}};function B(){(0,i.useRouter)();let{user:e,loading:s,isAuthenticated:t,forgotPassword:r}=(0,w.G)(),{isInitialized:d}=(0,$.tN)(),{deleteAddress:m}=S(),[p,y]=(0,l.useState)("requests"),[b,P]=(0,l.useState)(!1),[k,Z]=(0,l.useState)(!1),[D,E]=(0,l.useState)(!1),[I,q]=(0,l.useState)(!1),[F,O]=(0,l.useState)(!1),[M,R]=(0,l.useState)(!1),[B,Y]=(0,l.useState)(null),[X,J]=(0,l.useState)(1),[ee,es]=(0,l.useState)(1),{defaultAddresses:et,isLoading:ea,isError:er,isNotFound:el}=function(){let{data:e,isLoading:s,isError:t,error:a,refetch:r}=(0,C.a)({queryKey:["addresses","default"],queryFn:async()=>{try{let e=await A.getDefualtAllAddress(),s=e?.data?.data;return s?[s]:[]}catch(e){if(e?.status===404||e?.response?.status===404)return[];throw e}},retry:(e,s)=>s?.status!==404&&s?.response?.status!==404&&e<1}),l=a&&(a?.status===404||a?.response?.status===404);return{defaultAddresses:e||[],isLoading:s,isError:t&&!l,isNotFound:l,error:a,refetch:r}}(),{addresses:en,isLoading:ei,isError:ed,refetch:eo}=function(){let{data:e,isLoading:s,isError:t,refetch:a}=(0,C.a)({queryKey:["addresses"],queryFn:async()=>{let e=await A.getAllAddresses();return e?.data?.data||[]},retry:1});return{addresses:e||[],isLoading:s,isError:t,refetch:a}}(),{orders:ec,isLoading:em,isError:ex}=(0,V.nh)(),{allPayments:eu,isLoading:eh,isError:ep,refetch:eg}=(0,G.qm)(),ey=Array.isArray(et)&&et.length>0?et[0]:null,eb=Array.isArray(en)?en.filter(e=>e.id!==ey?.id):[],ef=(0,l.useMemo)(()=>Array.isArray(ec)?[...ec].sort((e,s)=>new Date(s.createdAt).getTime()-new Date(e.createdAt).getTime()):[],[ec]),eN=Math.ceil(ef.length/10),ej=(0,l.useMemo)(()=>{let e=(X-1)*10;return ef.slice(e,e+10)},[ef,X]),ev=(0,l.useMemo)(()=>Array.isArray(eu)?[...eu].sort((e,s)=>new Date(s.createdAt).getTime()-new Date(e.createdAt).getTime()):[],[eu]),ew=Math.ceil(ev.length/10),eP=(0,l.useMemo)(()=>{let e=(ee-1)*10;return ev.slice(e,e+10)},[ev,ee]);if(!t||!e)return null;let ek=async()=>{if(e?.email)try{Z(!0),await r({email:e.email}),P(!1),q(!0)}finally{Z(!1)}},eC=e=>{Y(e),O(!0)},eZ=e=>{Y(e),R(!0)};if(!d||s)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-emerald-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading dashboard..."})]})});if(!t||!e)return null;let eA=eu?.filter(e=>"FULL_PAYMENT"===e.paymentType||"DEPOSIT"===e.paymentType).reduce((e,s)=>e+(s.metadata?.calculation?.paymentAmount||0),0)||0,e_=[{label:"Active Orders",value:ec.filter(e=>!["delivered","cancelled","refunded"].includes(e.status?.toLowerCase())).length,icon:f.Z,color:"bg-blue-500"},{label:"In Transit",value:ec.filter(e=>["shipped","in_transit"].includes(e.status?.toLowerCase())).length,icon:g.Z,color:"bg-emerald-500"},{label:"Delivered",value:ec.filter(e=>e.status?.toLowerCase()==="delivered").length,icon:u.Z,color:"bg-green-500"},{label:"Total Spent",value:(0,v.xG)(eA),icon:x.Z,color:"bg-gray-500"}];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-gradient-to-r from-gray-900 to-emerald-900 py-8",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold text-white",children:["Welcome back, ",e?.profile?.firstName||e.email.split("@")[0]]}),a.jsx("p",{className:"text-gray-300 mt-1",children:"Manage your vehicle imports"})]}),a.jsx(n.default,{href:"/vehicles",className:"bg-emerald-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-emerald-500",children:"Browse Vehicles"})]})}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 -mt-4 grid grid-cols-2 md:grid-cols-4 gap-4",children:e_.map((e,s)=>(0,a.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm flex items-center gap-3",children:[a.jsx("div",{className:`${e.color} p-2 rounded-lg`,children:a.jsx(e.icon,{className:"w-5 h-5 text-white"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:e.value}),a.jsx("p",{className:"text-sm text-gray-500",children:e.label})]})]},s))}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsx("div",{className:"flex gap-4 mb-6 border-b border-gray-200 overflow-x-auto",children:[{id:"requests",label:"My Requests",icon:f.Z},{id:"payments",label:"Payments",icon:x.Z},{id:"saved",label:"Saved",icon:N.Z},{id:"profile",label:"Profile",icon:j.Z}].map(e=>(0,a.jsxs)("button",{onClick:()=>y(e.id),className:`flex items-center gap-2 px-4 py-3 border-b-2 font-medium whitespace-nowrap transition-colors ${p===e.id?"border-emerald-600 text-emerald-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[a.jsx(e.icon,{className:"w-5 h-5"}),e.label]},e.id))}),"requests"===p&&a.jsx("div",{className:"space-y-4",children:ex?a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[a.jsx(h.Z,{className:"w-5 h-5 text-red-600 mt-0.5"}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-red-900 font-medium",children:"Failed to load orders"}),a.jsx("p",{className:"text-red-700 text-sm mt-1",children:"Please try refreshing the page."})]})]})}):0===ef.length?(0,a.jsxs)("div",{className:"bg-white rounded-xl p-12 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(f.Z,{className:"w-8 h-8 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No orders yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Start browsing vehicles to make your first import request."}),(0,a.jsxs)(n.default,{href:"/vehicles",className:"inline-flex items-center gap-2 bg-emerald-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-emerald-700 transition-colors",children:["Browse Vehicles",a.jsx(o.Z,{className:"w-4 h-4"})]})]}):(0,a.jsxs)(a.Fragment,{children:[ej.map(e=>{var s;let t=H[e.status],r=t?.icon||c.Z,l=function(e){let s=e.vehicleSnapshot,t=e.vehicle;return s?.year&&s?.make&&s?.model?`${s.year} ${s.make} ${s.model}`:t?.year&&t?.make&&t?.model?`${t.year} ${t.make} ${t.model}`:e.requestNumber||`Order #${e.id}`}(e),i=(s=e,s.vehicleSnapshot?.apiData?.listing?.retailListing?.primaryImage||s.vehicleSnapshot?.apiData?.listing?.wholesaleListing?.primaryImage||(s.vehicleSnapshot?.images&&s.vehicleSnapshot.images.length>0?s.vehicleSnapshot.images[0]:s.vehicle?.images&&s.vehicle.images.length>0?s.vehicle.images[0]:"https://images.pexels.com/photos/170811/pexels-photo-170811.jpeg?auto=compress&cs=tinysrgb&w=800"));return(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-6",children:[a.jsx("img",{src:i,alt:l,className:"w-full md:w-48 h-32 object-cover rounded-lg"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-start justify-between gap-4 mb-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-sm text-gray-500 mb-1",children:["Order #",e.requestNumber||e.id]}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:l})]}),(0,a.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-medium ${t?.color||"bg-gray-100 text-gray-700"}`,children:[a.jsx(r,{className:"w-4 h-4"}),t?.label||e.status]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Total Cost"}),a.jsx("p",{className:"font-semibold text-gray-900",children:(0,v.xG)(e.paymentBreakdown?.totalUsd||e.totalLandedCostUsd||e.quotedPriceUsd||e.vehicleSnapshot?.priceUsd||0)})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Shipping"}),a.jsx("p",{className:"font-semibold text-gray-900",children:e.shippingMethod||"N/A"})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Destination"}),a.jsx("p",{className:"font-semibold text-gray-900",children:e.destinationState||"N/A"})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Est. Delivery"}),a.jsx("p",{className:"font-semibold text-gray-900",children:e.estimatedDeliveryDate?(0,v.p6)(e.estimatedDeliveryDate):"TBD"})]})]})]})]})}),(0,a.jsxs)("div",{className:"bg-gray-50 px-6 py-3 flex items-center justify-between",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Submitted ",(0,v.p6)(e.createdAt)]}),(0,a.jsxs)(n.default,{href:`/request-details/${e.id}`,className:"text-emerald-600 font-medium text-sm hover:text-emerald-700 flex items-center gap-1",children:["View Details",a.jsx(o.Z,{className:"w-4 h-4"})]})]})]},e.id)}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[a.jsx("div",{className:"px-6 py-3 flex items-center justify-between border-t border-gray-100",children:(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Showing ",Math.min((X-1)*10+1,ef.length),"–",Math.min(10*X,ef.length)," of ",ef.length," orders"]})}),a.jsx(z,{currentPage:X,totalPages:eN,onPageChange:J})]})]})}),"payments"===p&&a.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:eh?(0,a.jsxs)("div",{className:"p-12 text-center",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-emerald-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading payments..."})]}):ep?(0,a.jsxs)("div",{className:"p-12 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(h.Z,{className:"w-8 h-8 text-red-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Failed to Load Payments"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"There was an error loading your payment history. Please try again."}),a.jsx("button",{onClick:()=>eg(),className:"bg-emerald-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-emerald-700",children:"Retry"})]}):0===ev.length?(0,a.jsxs)("div",{className:"p-12 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(x.Z,{className:"w-8 h-8 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No payments yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Your payment history will appear here once you make your first payment."}),(0,a.jsxs)(n.default,{href:"/vehicles",className:"inline-flex items-center gap-2 bg-emerald-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-emerald-700 transition-colors",children:["Browse Vehicles",a.jsx(o.Z,{className:"w-4 h-4"})]})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),a.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vehicle"}),a.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reference"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:eP.map(e=>{let s=e.order?.vehicleSnapshot,t=s?`${s.year} ${s.make} ${s.model}`:"N/A",r=e.metadata?.calculation?.paymentAmount??e.amountUsd??0;return(0,a.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,v.p6)(e.createdAt)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.order?a.jsx(n.default,{href:`/request-details/${e.orderId}`,className:"text-emerald-600 hover:text-emerald-700 font-medium",children:e.order.requestNumber}):a.jsx("span",{className:"text-gray-500",children:"-"})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:(0,a.jsxs)("div",{className:"max-w-xs",children:[a.jsx("p",{className:"truncate font-medium",children:t}),s?.vin&&(0,a.jsxs)("p",{className:"text-xs text-gray-500 truncate",children:["VIN: ",s.vin]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:a.jsx("span",{className:"capitalize",children:e.paymentType?.replace(/_/g," ").toLowerCase()||"N/A"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:(0,v.xG)(r)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${"COMPLETED"===e.status?"bg-green-100 text-green-700":"PENDING"===e.status?"bg-yellow-100 text-yellow-700":"FAILED"===e.status?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:["COMPLETED"===e.status&&a.jsx(u.Z,{className:"w-3 h-3 mr-1"}),"PENDING"===e.status&&a.jsx(c.Z,{className:"w-3 h-3 mr-1"}),"FAILED"===e.status&&a.jsx(h.Z,{className:"w-3 h-3 mr-1"}),e.status]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsxs)("div",{className:"max-w-xs",children:[a.jsx("p",{className:"font-mono text-xs truncate",children:e.transactionRef||e.providerTransactionId||"-"}),e.paymentProvider&&a.jsx("p",{className:"text-xs text-gray-400 capitalize",children:e.paymentProvider})]})})]},e.id)})})]})}),a.jsx("div",{className:"px-6 py-3 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Showing ",Math.min((ee-1)*10+1,ev.length),"–",Math.min(10*ee,ev.length)," of ",ev.length," ",1===ev.length?"payment":"payments"]})}),a.jsx(z,{currentPage:ee,totalPages:ew,onPageChange:es})]})}),"saved"===p&&(0,a.jsxs)("div",{className:"bg-white rounded-xl p-12 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(N.Z,{className:"w-8 h-8 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No saved vehicles"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Save vehicles you're interested in to view them later."}),a.jsx(n.default,{href:"/vehicles",className:"inline-flex items-center gap-2 bg-emerald-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-emerald-700 transition-colors",children:"Browse Vehicles"})]}),"profile"===p&&(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8 bg-white rounded-xl shadow-sm mt-6",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Profile Information"}),(0,a.jsxs)("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>P(!0),className:"text-emerald-600 font-medium hover:underline",children:"Change Password"}),a.jsx("button",{onClick:()=>E(!0),className:"text-emerald-600 font-medium hover:underline",children:"Add Address"})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Profile Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),a.jsx("input",{type:"text",value:e.fullName||"",readOnly:!0,className:"w-full border border-gray-300 rounded-lg px-4 py-3 bg-gray-50"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),a.jsx("input",{type:"email",value:e?.email||"",readOnly:!0,className:"w-full border border-gray-300 rounded-lg px-4 py-3 bg-gray-50"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),a.jsx("input",{type:"tel",value:e?.phone||"",readOnly:!0,className:"w-full border border-gray-300 rounded-lg px-4 py-3 bg-gray-50"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),a.jsx("input",{type:"text",value:e?.country||"Nigeria",readOnly:!0,className:"w-full border border-gray-300 rounded-lg px-4 py-3 bg-gray-50"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State"}),a.jsx("input",{type:"text",value:e?.state||"",readOnly:!0,className:"w-full border border-gray-300 rounded-lg px-4 py-3 bg-gray-50"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),a.jsx("input",{type:"text",value:e?.address||"",readOnly:!0,className:"w-full border border-gray-300 rounded-lg px-4 py-3 bg-gray-50"})]})]})]}),(0,a.jsxs)("div",{className:"mt-10",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Default Address"}),ea?(0,a.jsxs)("div",{className:"flex items-center gap-2 text-gray-500",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-emerald-600 border-t-transparent rounded-full animate-spin"}),a.jsx("p",{children:"Loading default address..."})]}):er&&!el?a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:a.jsx("p",{className:"text-red-600",children:"Failed to load default address. Please try again."})}):ey?a.jsx("div",{className:"max-w-md",children:a.jsx(W,{addr:ey,onEdit:eC,onDelete:eZ})}):a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[a.jsx(h.Z,{className:"w-5 h-5 text-blue-600 mt-0.5"}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-blue-900 font-medium mb-1",children:"No default address set"}),a.jsx("p",{className:"text-blue-700 text-sm mb-3",children:"Set a default address to speed up your checkout process and vehicle deliveries."}),a.jsx("button",{onClick:()=>E(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:"Add Default Address"})]})]})})]}),(0,a.jsxs)("div",{className:"mt-10",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Other Saved Addresses"}),(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:[eb.length," ",1===eb.length?"address":"addresses"]})]}),ei?(0,a.jsxs)("div",{className:"flex items-center gap-2 text-gray-500",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-emerald-600 border-t-transparent rounded-full animate-spin"}),a.jsx("p",{children:"Loading addresses..."})]}):ed?a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:a.jsx("p",{className:"text-red-600",children:"Failed to load addresses. Please try again."})}):0===eb.length?a.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 text-center",children:a.jsx("p",{className:"text-gray-600",children:"No additional addresses saved."})}):a.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:eb.map(e=>a.jsx(W,{addr:e,onEdit:eC,onDelete:eZ},e.id))})]})]})]})]}),b&&a.jsx(Q,{loading:k,onClose:()=>P(!1),onConfirm:ek}),I&&a.jsx(T,{onClose:()=>q(!1),onSuccess:()=>q(!1)}),D&&a.jsx(L,{onClose:()=>E(!1),onSuccess:eo}),F&&B&&a.jsx(U,{address:B,onClose:()=>{O(!1),Y(null)},onSuccess:eo}),M&&B&&a.jsx(K,{loading:!1,address:B,onClose:()=>{R(!1),Y(null)},onConfirm:async()=>{if(!B?.id){console.error("No address ID found!"),(0,_.C)({type:"error",message:"Error: No address ID found"});return}try{await m({id:B.id}),eo(),R(!1),Y(null)}catch(e){console.error("Delete failed:",e),(0,_.C)({type:"error",message:"Failed to delete address"})}}})]})}function K({loading:e,onClose:s,onConfirm:t,address:r}){return a.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl w-full max-w-md p-6 shadow-lg",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Delete Address"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Are you sure you want to delete this address?"}),r&&(0,a.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg mb-4 text-sm",children:[(0,a.jsxs)("p",{className:"font-medium",children:[r.firstName," ",r.lastName]}),a.jsx("p",{className:"text-gray-600",children:r.street}),(0,a.jsxs)("p",{className:"text-gray-600",children:[r.city,", ",r.state]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:s,className:"border px-4 py-2 rounded-lg",children:"Cancel"}),a.jsx("button",{onClick:t,disabled:e,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700",children:e?"Deleting...":"Yes, Delete"})]})]})})}function Q({loading:e,onClose:s,onConfirm:t}){return a.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl w-full max-w-md p-6 shadow-lg",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Change Password"}),a.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"A reset link will be sent to your email."}),(0,a.jsxs)("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:s,className:"border px-4 py-2 rounded-lg",children:"Cancel"}),a.jsx("button",{onClick:t,disabled:e,className:"bg-emerald-600 text-white px-4 py-2 rounded-lg",children:e?"Sending...":"Yes, Continue"})]})]})})}function W({addr:e,onEdit:s,onDelete:t}){return(0,a.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,a.jsxs)("p",{className:"font-semibold",children:[e.firstName," ",e.lastName]}),a.jsx("p",{children:e.street}),(0,a.jsxs)("p",{children:[e.city,", ",e.state," ",e.postalCode]}),a.jsx("p",{children:e.country}),a.jsx("p",{className:"text-sm text-gray-500",children:e.phoneNumber}),(0,a.jsxs)("div",{className:"flex gap-4 mt-3",children:[a.jsx("button",{onClick:()=>s(e),className:"text-emerald-600 text-sm font-medium hover:underline",children:"Update"}),a.jsx("button",{onClick:()=>t(e),className:"text-red-600 text-sm font-medium hover:underline",children:"Delete"})]}),e.isDefault&&a.jsx("span",{className:"text-xs bg-emerald-100 text-emerald-700 px-2 py-1 rounded mt-2 inline-block",children:"Default"})]})}function Y(){return a.jsx(r.i,{children:a.jsx(B,{})})}},405:(e,s,t)=>{"use strict";t.d(s,{i:()=>i});var a=t(326),r=t(5047),l=t(9678),n=t(7577);function i({children:e,redirectTo:s="/login"}){(0,r.useRouter)();let{isAuthenticated:t,accessToken:i}=(0,l.tN)(),[d,o]=(0,n.useState)(l.tN.persist.hasHydrated());return d&&t&&i?a.jsx(a.Fragment,{children:e}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"w-10 h-10 border-4 border-emerald-600 border-t-transparent rounded-full animate-spin"})})}},1496:(e,s,t)=>{"use strict";t.d(s,{c:()=>r});var a=t(7577);function r({schema:e,initialValues:s,onSubmit:t}){let[r,l]=(0,a.useState)(s),[n,i]=(0,a.useState)({}),[d,o]=(0,a.useState)(!1),c=()=>{let s=e.safeParse(r);if(!s.success){let e={};return s.error.issues.forEach(s=>{let t=s.path[0];t&&(e[t]=s.message)}),i(e),!1}return i({}),!0},m=async e=>{if(e.preventDefault(),c()){o(!0);try{await t(r)}finally{o(!1)}}};return{values:r,errors:n,isSubmitting:d,handleChange:e=>{let{name:s,type:t}=e.target,a="checkbox"===t?e.target.checked:e.target.value;l(e=>({...e,[s]:a})),n[s]&&i(e=>({...e,[s]:void 0}))},handleSubmit:m,setFieldValue:(e,s)=>{l(t=>({...t,[e]:s})),n[e]&&i(s=>({...s,[e]:void 0}))},setFieldError:(e,s)=>{i(t=>({...t,[e]:s}))},validateForm:c,validateField:s=>{let t=e.shape[s].safeParse(r[s]);return t.success?(i(e=>({...e,[s]:void 0})),!0):(i(e=>({...e,[s]:t.error.issues[0]?.message})),!1)},clearErrors:()=>i({}),reset:()=>{l(s),i({}),o(!1)}}}},8156:(e,s,t)=>{"use strict";t.d(s,{gz:()=>n,j4:()=>i,nh:()=>l});var a=t(108),r=t(6082);function l(){let e=(0,a.a)({queryKey:["orders"],queryFn:()=>r.k.getAllOrder(),staleTime:3e5,refetchOnWindowFocus:!1});return{orders:e.data?.orders??[],total:e.data?.total??0,page:e.data?.page??1,limit:e.data?.limit??10,totalPages:e.data?.totalPages??1,isLoading:e.isLoading,isError:e.isError,error:e.error,refetch:e.refetch,isFetching:e.isFetching}}function n(e){let s=(0,a.a)({queryKey:["order",e],queryFn:()=>r.k.getOrderById(e),enabled:!!e,staleTime:3e5,refetchOnWindowFocus:!1});return{order:s.data,isLoading:s.isLoading,isError:s.isError,error:s.error,refetch:s.refetch,isFetching:s.isFetching}}let i=(e,s)=>{let{data:t,isLoading:l,isError:n,error:i}=(0,a.a)({queryKey:["costBreakdown",e,s],queryFn:()=>r.k.getPredefinePrices(e,s),enabled:!!e&&!!s,staleTime:3e5});return{costBreakdown:t,isLoading:l,isError:n,error:i}}},29:(e,s,t)=>{"use strict";t.d(s,{qm:()=>o,vr:()=>c,rZ:()=>m});var a=t(108),r=t(119),l=t(4976),n=t(5137);let i={getAllPayments:()=>n.x.get("/payments/all"),paymentInit:e=>n.x.post("/payments/init",e),paymentVerify:e=>n.x.patch(`/payments/verify/${e}?provider=paystack`,{})};var d=t(6105);function o(){let e=(0,a.a)({queryKey:["payments"],queryFn:async()=>(await i.getAllPayments()).data.data,staleTime:3e5,refetchOnWindowFocus:!1});return{allPayments:e.data,isLoading:e.isLoading,isError:e.isError,error:e.error,refetch:e.refetch,isFetching:e.isFetching}}let c=()=>(0,r.D)({mutationFn:async e=>(await i.paymentInit(e)).data.data,onSuccess:e=>{(0,d.C)({type:"success",message:"Payment initialized successfully!"}),e.authorizationUrl&&(window.location.href=e.authorizationUrl)},onError:e=>{(0,d.C)({type:"error",message:e.message||"Failed to initialize payment. Please try again."})}}),m=()=>{let e=(0,l.NL)();return(0,r.D)({mutationFn:async({reference:e})=>(await i.paymentVerify(e)).data.data,onSuccess:({success:s,message:t})=>{e.invalidateQueries({queryKey:["requests"]}),s?(0,d.C)({type:"success",message:t||"Payment verified successfully!"}):(0,d.C)({type:"error",message:t||"Payment verification failed"})},onError:e=>{(0,d.C)({type:"error",message:e.message||"Failed to verify payment."})}})}},6082:(e,s,t)=>{"use strict";t.d(s,{k:()=>r});var a=t(5137);let r={getAllOrder:async()=>(await a.x.get("/orders/my-orders")).data.data,requestVehicle:async e=>(await a.x.post("/orders",e)).data.data,getOrderById:async e=>(await a.x.get(`/orders/${e}`)).data.data,getPredefinePrices:async(e,s)=>(await a.x.get(`/orders/order-summary/${e}/?shippingMethod=${s}`)).data.data}},5016:(e,s,t)=>{"use strict";t.d(s,{LI:()=>o,X:()=>i,p6:()=>d,qA:()=>l,xG:()=>n,yG:()=>c});let a={sourcing_fee_percent:5,sourcing_fee_min_usd:500,inspection_fee_usd:150,us_handling_fee_usd:350,shipping_roro_base_usd:1800,shipping_container_base_usd:2500,exchange_rate_ngn_usd:1550,timeline_days_roro:45,timeline_days_container:60},r={CAR:1,SEDAN:1,COUPE:1,HATCHBACK:1,WAGON:1.05,CONVERTIBLE:1.05,SUV:1.15,TRUCK:1.25,VAN:1.2,MOTORCYCLE:0};function l(e,s,t,l=a){let n=r[s]||1,i=Math.max(l.sourcing_fee_percent/100*e,l.sourcing_fee_min_usd),d=l.inspection_fee_usd,o=l.us_handling_fee_usd,c=("RORO"===t?l.shipping_roro_base_usd:l.shipping_container_base_usd)*n,m=e+i+d+o+c,x=m*l.exchange_rate_ngn_usd;return{breakdown:{vehicle_price:e,sourcing_fee:i,inspection_fee:d,us_handling_fee:o,shipping_cost:c,total_usd:m,total_ngn:x,exchange_rate:l.exchange_rate_ngn_usd},estimatedDeliveryDays:"RORO"===t?l.timeline_days_roro:l.timeline_days_container,depositAmount:.3*m}}function n(e,s="USD"){return"NGN"===s?new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0,maximumFractionDigits:0}).format(e):new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function i(e){let s=new Date;return s.setDate(s.getDate()+e),s}function d(e){return("string"==typeof e?new Date(e):e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}let o=["Lagos","Abuja","Port Harcourt","Kano","Ibadan","Enugu","Kaduna","Benin City","Warri","Calabar","Aba","Jos","Ilorin","Onitsha","Abeokuta","Uyo","Owerri","Akure","Bauchi","Sokoto"],c=["Toyota","Honda","Ford","Chevrolet","BMW","Mercedes-Benz","Lexus","Nissan","Hyundai","Kia","Mazda","Volkswagen","Audi","Subaru","Jeep","Dodge","Ram","GMC","Acura","Infiniti","Cadillac","Lincoln","Volvo","Land Rover","Porsche"]},5128:(e,s,t)=>{"use strict";t.d(s,{HW:()=>r,I2:()=>l,S4:()=>o,Sv:()=>n,WV:()=>c,dm:()=>i,ek:()=>d});var a=t(770);let r=a.Ry({email:a.Z_().email("Please enter a valid email address")}),l=a.Ry({email:a.Z_().email("Please enter a valid email address"),token:a.Z_().min(6,"Verification code must be 6 digits").max(6)}),n=a.Ry({email:a.Z_().email(),password:a.Z_().min(8,"Password must be at least 8 characters").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[a-z]/,"Password must contain at least one lowercase letter").regex(/[0-9]/,"Password must contain at least one number"),confirmPassword:a.Z_(),firstName:a.Z_().min(2,"First name must be at least 2 characters"),lastName:a.Z_().min(2,"Last name must be at least 2 characters"),phone:a.Z_().regex(/^\+?[1-9]\d{1,14}$/,"Please enter a valid phone number"),role:a.Km(["BUYER","SELLER"]).optional().default("BUYER")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),i=a.Ry({email:a.Z_().email("Please enter a valid email address"),password:a.Z_().min(1,"Password is required")}),d=a.Ry({email:a.Z_().email("Please enter a valid email address")}),o=a.Ry({email:a.Z_().email("Invalid email"),token:a.Z_().min(6,"Token is required"),newPassword:a.Z_().min(6,"Password must be at least 6 characters"),confirmPassword:a.Z_().min(1,"Please confirm your password")}),c=a.Ry({type:a.Km(["NORMAL","BILLING","SHIPPING"]),street:a.Z_(),firstName:a.Z_(),lastName:a.Z_(),city:a.Z_(),state:a.Z_(),postalCode:a.Z_(),country:a.Z_(),isDefault:a.O7(),additionalInfo:a.Z_().optional(),phoneNumber:a.Z_(),additionalPhoneNumber:a.Z_().optional()})},3060:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(8570).createProxy)(String.raw`C:\Users\HP\Desktop\Freelance\afrozonauto-frontend\src\app\(site)\dashboard\page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[595,45,770,380,686],()=>t(5819));module.exports=a})();