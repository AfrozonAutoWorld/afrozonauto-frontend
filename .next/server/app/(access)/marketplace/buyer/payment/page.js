(()=>{var e={};e.id=44,e.ids=[44],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},11825:()=>{},85546:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>u,routeModule:()=>m,tree:()=>c}),t(43721),t(35866),t(79010);var s=t(23191),a=t(88716),n=t(37922),i=t.n(n),o=t(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(r,l);let c=["",{children:["(access)",{children:["marketplace",{children:["buyer",{children:["payment",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,43721)),"C:\\Users\\HP\\Desktop\\Freelance\\afrozonauto-frontend\\src\\app\\(access)\\marketplace\\buyer\\payment\\page.tsx"]}]},{}]},{}]},{}]},{"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,79010)),"C:\\Users\\HP\\Desktop\\Freelance\\afrozonauto-frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],u=["C:\\Users\\HP\\Desktop\\Freelance\\afrozonauto-frontend\\src\\app\\(access)\\marketplace\\buyer\\payment\\page.tsx"],d="/(access)/marketplace/buyer/payment/page",p={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(access)/marketplace/buyer/payment/page",pathname:"/marketplace/buyer/payment",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},38771:(e,r,t)=>{Promise.resolve().then(t.bind(t,71559))},54659:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(76557).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},56277:(e,r,t)=>{"use strict";t.d(r,{E:()=>o,r:()=>l});var s=t(44976),a=t(10119),n=t(61921),i=t(56105);function o(){return(0,s.NL)(),(0,a.D)({mutationFn:async e=>(await n.S.paymentInit(e)).data.data.data,onSuccess:e=>{(0,i.C)({type:"success",message:"Payment initialized successfully!"}),e.authorizationUrl&&(window.location.href=e.authorizationUrl)},onError:e=>{(0,i.C)({type:"error",message:e.message||"Failed to initialize payment"})}})}function l(){let e=(0,s.NL)();return(0,a.D)({mutationFn:async({reference:e})=>(await n.S.paymentVerify(e)).data.data.data,onSuccess:({success:r,message:t})=>{e.invalidateQueries({queryKey:["orders"]}),e.invalidateQueries({queryKey:["payments"]}),(0,i.C)({type:r?"success":"error",message:t||(r?"Payment verified successfully!":"Payment verification failed")})},onError:e=>{(0,i.C)({type:"error",message:e.message||"Failed to verify payment"})}})}},55137:(e,r,t)=>{"use strict";t.d(r,{x:()=>n});var s=t(94464),a=t(77109);let n=s.Z.create({baseURL:process.env.NEXT_PUBLIC_API_URL||"https://afrozonauto-backend.onrender.com/api",headers:{"Content-Type":"application/json"}});n.interceptors.request.use(async e=>{let r=await (0,a.getSession)(),t=r?.accessToken;return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),n.interceptors.response.use(e=>e,e=>(e.response?.status===401&&(window.location.href="/login"),Promise.reject(e)))},61921:(e,r,t)=>{"use strict";t.d(r,{S:()=>a});var s=t(55137);let a={getAllPayments:()=>s.x.get("/payments/all"),getCurrentUserPayment:()=>s.x.get("/payments/user-mine"),getPaymentById:e=>s.x.get(`/payments/payment-id/${e}`),paymentInit:e=>s.x.post("/payments/init",e),paymentVerify:e=>s.x.patch(`/payments/verify/${e}?provider=paystack`,{})}},56105:(e,r,t)=>{"use strict";t.d(r,{C:()=>a});var s=t(85999);let a=({type:e,message:r,duration:t=2e3,position:a="top-center"})=>{let n={color:"#fff"},i={success:"#4CAF50",error:"#FF5722",info:"#2196F3",warning:"#FFC107"};switch(s.A.dismiss(),e){case"success":s.A.success(r,{duration:t,style:{...n,backgroundColor:i.success},position:a});break;case"error":s.A.error(r,{duration:t,style:{...n,backgroundColor:i.error},position:a});break;case"info":(0,s.A)(r,{duration:t,style:{...n,backgroundColor:i.info},position:a});break;case"warning":(0,s.A)(r,{duration:t,style:{...n,backgroundColor:i.warning},position:a});break;default:console.warn("Invalid toast type")}}},71559:(e,r,t)=>{"use strict";t.d(r,{VerifyPaymentCallback:()=>d});var s=t(10326),a=t(17577),n=t(35047),i=t(76557);let o=(0,i.Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var l=t(54659);let c=(0,i.Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var u=t(56277);function d(){let e=(0,n.useRouter)();(0,n.useSearchParams)();let[r,t]=(0,a.useState)("verifying"),[i,d]=(0,a.useState)("Verifying your payment..."),{mutateAsync:p}=(0,u.r)();return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 max-w-md w-full text-center",children:[(0,s.jsxs)("div",{className:"mb-6",children:["verifying"===r&&s.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-blue-100 rounded-full",children:s.jsx(o,{className:"w-10 h-10 text-blue-600 animate-spin"})}),"success"===r&&s.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-green-100 rounded-full",children:s.jsx(l.Z,{className:"w-10 h-10 text-green-600"})}),("failed"===r||"cancelled"===r)&&s.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-red-100 rounded-full",children:s.jsx(c,{className:"w-10 h-10 text-red-600"})})]}),(0,s.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:["verifying"===r&&"Processing Payment","success"===r&&"Payment Successful!","failed"===r&&"Payment Failed","cancelled"===r&&"Payment Cancelled"]}),s.jsx("p",{className:"text-gray-600 mb-6",children:i}),"verifying"===r&&s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-4",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full animate-pulse w-2/3"})}),("failed"===r||"cancelled"===r)&&(0,s.jsxs)("div",{className:"space-y-3",children:[s.jsx("button",{onClick:()=>e.push("/marketplace/buyer"),className:"w-full bg-emerald-600 text-white py-3 rounded-lg font-medium hover:bg-emerald-700 transition-colors",children:"Go to Dashboard"}),s.jsx("button",{onClick:()=>e.push("/contact"),className:"w-full border border-gray-300 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Contact Support"})]}),"success"===r&&s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:s.jsx("p",{className:"text-sm text-green-800",children:"You will be automatically redirected to your dashboard in a few seconds..."})}),"verifying"===r&&s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsx("p",{className:"text-sm text-blue-800",children:"Please wait while we confirm your payment with the payment provider. This usually takes just a few seconds."})})]})})}},43721:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i});var s=t(19510);let a=(0,t(68570).createProxy)(String.raw`C:\Users\HP\Desktop\Freelance\afrozonauto-frontend\src\views\VerifyPayment.tsx#VerifyPaymentCallback`);var n=t(71159);function i(){return s.jsx(n.Suspense,{fallback:s.jsx("div",{children:"Verify Payment..."}),children:s.jsx(a,{})})}}};var r=require("../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[92,937,464,9],()=>t(85546));module.exports=s})();