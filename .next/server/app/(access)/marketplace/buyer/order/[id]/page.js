(()=>{var e={};e.id=634,e.ids=[634],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},11825:()=>{},60385:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>p,tree:()=>c}),t(90982),t(35866),t(79010);var a=t(23191),r=t(88716),l=t(37922),i=t.n(l),n=t(95231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(s,d);let c=["",{children:["(access)",{children:["marketplace",{children:["buyer",{children:["order",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,90982)),"C:\\Users\\HP\\Desktop\\Freelance\\afrozonauto-frontend\\src\\app\\(access)\\marketplace\\buyer\\order\\[id]\\page.tsx"]}]},{}]},{}]},{}]},{}]},{"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,79010)),"C:\\Users\\HP\\Desktop\\Freelance\\afrozonauto-frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\HP\\Desktop\\Freelance\\afrozonauto-frontend\\src\\app\\(access)\\marketplace\\buyer\\order\\[id]\\page.tsx"],m="/(access)/marketplace/buyer/order/[id]/page",x={require:t,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(access)/marketplace/buyer/order/[id]/page",pathname:"/marketplace/buyer/order/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},84983:(e,s,t)=>{Promise.resolve().then(t.bind(t,4718))},87888:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},86333:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},37358:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},54659:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},48998:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},28916:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},36283:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},77636:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},48705:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},58038:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},92822:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("Ship",[["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1 .6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"iegodh"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-9-4-9 4c0 2.9.94 5.34 2.81 7.76",key:"fp8vka"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M12 10v4",key:"1kjpxc"}],["path",{d:"M12 2v3",key:"qbqxhf"}]])},14228:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]])},34025:(e,s,t)=>{"use strict";t.d(s,{Aj:()=>i,j4:()=>n,yi:()=>l});var a=t(20108),r=t(36082);function l(){let e=(0,a.a)({queryKey:["orders"],queryFn:async()=>(await r.k.getAllOrder()).data.data.data,staleTime:3e5,refetchOnWindowFocus:!1});return{orders:e.data?.orders??[],total:e.data?.total??0,page:e.data?.page??1,limit:e.data?.limit??10,totalPages:e.data?.totalPages??1,isLoading:e.isLoading,isError:e.isError,error:e.error,refetch:e.refetch}}function i(e){let s=(0,a.a)({queryKey:["orders",e],queryFn:async()=>(await r.k.getOrderById(e)).data.data.data,enabled:!!e,staleTime:3e5,refetchOnWindowFocus:!1});return{order:s.data,isLoading:s.isLoading,isError:s.isError,error:s.error,refetch:s.refetch}}function n(e,s){let t=(0,a.a)({queryKey:["orders","costBreakdown",e,s],queryFn:async()=>(await r.k.getPredefinePrices(e,s)).data.data.data,enabled:!!e&&!!s,staleTime:3e5,refetchOnWindowFocus:!1});return{costBreakdown:t.data,isLoading:t.isLoading,isError:t.isError,error:t.error}}},56277:(e,s,t)=>{"use strict";t.d(s,{E:()=>n,r:()=>d});var a=t(44976),r=t(10119),l=t(61921),i=t(56105);function n(){return(0,a.NL)(),(0,r.D)({mutationFn:async e=>(await l.S.paymentInit(e)).data.data.data,onSuccess:e=>{(0,i.C)({type:"success",message:"Payment initialized successfully!"}),e.authorizationUrl&&(window.location.href=e.authorizationUrl)},onError:e=>{(0,i.C)({type:"error",message:e.message||"Failed to initialize payment"})}})}function d(){let e=(0,a.NL)();return(0,r.D)({mutationFn:async({reference:e})=>(await l.S.paymentVerify(e)).data.data.data,onSuccess:({success:s,message:t})=>{e.invalidateQueries({queryKey:["orders"]}),e.invalidateQueries({queryKey:["payments"]}),(0,i.C)({type:s?"success":"error",message:t||(s?"Payment verified successfully!":"Payment verification failed")})},onError:e=>{(0,i.C)({type:"error",message:e.message||"Failed to verify payment"})}})}},55137:(e,s,t)=>{"use strict";t.d(s,{x:()=>l});var a=t(94464),r=t(77109);let l=a.Z.create({baseURL:process.env.NEXT_PUBLIC_API_URL||"https://afrozonauto-backend.onrender.com/api",headers:{"Content-Type":"application/json"}});l.interceptors.request.use(async e=>{let s=await (0,r.getSession)(),t=s?.accessToken;return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),l.interceptors.response.use(e=>e,e=>(e.response?.status===401&&(window.location.href="/login"),Promise.reject(e)))},36082:(e,s,t)=>{"use strict";t.d(s,{k:()=>r});var a=t(55137);let r={getAllOrder:async()=>a.x.get("/orders/my-orders"),requestVehicle:async e=>a.x.post("/orders",e),getOrderById:async e=>a.x.get(`/orders/${e}`),getPredefinePrices:async(e,s)=>a.x.get(`/orders/order-summary/${e}/?shippingMethod=${s}`)}},61921:(e,s,t)=>{"use strict";t.d(s,{S:()=>r});var a=t(55137);let r={getAllPayments:()=>a.x.get("/payments/all"),getCurrentUserPayment:()=>a.x.get("/payments/user-mine"),getPaymentById:e=>a.x.get(`/payments/payment-id/${e}`),paymentInit:e=>a.x.post("/payments/init",e),paymentVerify:e=>a.x.patch(`/payments/verify/${e}?provider=paystack`,{})}},65016:(e,s,t)=>{"use strict";t.d(s,{LI:()=>c,X:()=>n,p6:()=>d,qA:()=>l,xG:()=>i,yG:()=>o});let a={sourcing_fee_percent:5,sourcing_fee_min_usd:500,inspection_fee_usd:150,us_handling_fee_usd:350,shipping_roro_base_usd:1800,shipping_container_base_usd:2500,exchange_rate_ngn_usd:1550,timeline_days_roro:45,timeline_days_container:60},r={CAR:1,SEDAN:1,COUPE:1,HATCHBACK:1,WAGON:1.05,CONVERTIBLE:1.05,SUV:1.15,TRUCK:1.25,VAN:1.2,MOTORCYCLE:0};function l(e,s,t,l=a){let i=r[s]||1,n=Math.max(l.sourcing_fee_percent/100*e,l.sourcing_fee_min_usd),d=l.inspection_fee_usd,c=l.us_handling_fee_usd,o=("RORO"===t?l.shipping_roro_base_usd:l.shipping_container_base_usd)*i,m=e+n+d+c+o,x=m*l.exchange_rate_ngn_usd;return{breakdown:{vehicle_price:e,sourcing_fee:n,inspection_fee:d,us_handling_fee:c,shipping_cost:o,total_usd:m,total_ngn:x,exchange_rate:l.exchange_rate_ngn_usd},estimatedDeliveryDays:"RORO"===t?l.timeline_days_roro:l.timeline_days_container,depositAmount:.3*m}}function i(e,s="USD"){return"NGN"===s?new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0,maximumFractionDigits:0}).format(e):new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function n(e){let s=new Date;return s.setDate(s.getDate()+e),s}function d(e){return("string"==typeof e?new Date(e):e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}let c=["Lagos","Abuja","Port Harcourt","Kano","Ibadan","Enugu","Kaduna","Benin City","Warri","Calabar","Aba","Jos","Ilorin","Onitsha","Abeokuta","Uyo","Owerri","Akure","Bauchi","Sokoto"],o=["Toyota","Honda","Ford","Chevrolet","BMW","Mercedes-Benz","Lexus","Nissan","Hyundai","Kia","Mazda","Volkswagen","Audi","Subaru","Jeep","Dodge","Ram","GMC","Acura","Infiniti","Cadillac","Lincoln","Volvo","Land Rover","Porsche"]},56105:(e,s,t)=>{"use strict";t.d(s,{C:()=>r});var a=t(85999);let r=({type:e,message:s,duration:t=2e3,position:r="top-center"})=>{let l={color:"#fff"},i={success:"#4CAF50",error:"#FF5722",info:"#2196F3",warning:"#FFC107"};switch(a.A.dismiss(),e){case"success":a.A.success(s,{duration:t,style:{...l,backgroundColor:i.success},position:r});break;case"error":a.A.error(s,{duration:t,style:{...l,backgroundColor:i.error},position:r});break;case"info":(0,a.A)(s,{duration:t,style:{...l,backgroundColor:i.info},position:r});break;case"warning":(0,a.A)(s,{duration:t,style:{...l,backgroundColor:i.warning},position:r});break;default:console.warn("Invalid toast type")}}},4718:(e,s,t)=>{"use strict";t.d(s,{RequestDetail:()=>P});var a=t(10326),r=t(17577),l=t(90434),i=t(35047),n=t(48998),d=t(36283),c=t(28916),o=t(54659),m=t(87888),x=t(48705),p=t(92822),h=t(77636),u=t(14228),y=t(86333),g=t(37358);let b=(0,t(76557).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var f=t(58038),j=t(65016),N=t(56277),v=t(34025);let w={PENDING_QUOTE:{label:"Pending Quote",color:"bg-yellow-100 text-yellow-700 border-yellow-200",icon:n.Z,description:"Our team is preparing your detailed quote"},QUOTE_SENT:{label:"Quote Sent",color:"bg-blue-100 text-blue-700 border-blue-200",icon:d.Z,description:"Quote has been sent. Please review and approve"},DEPOSIT_PENDING:{label:"Payment Pending",color:"bg-orange-100 text-orange-700 border-orange-200",icon:c.Z,description:"Waiting for payment"},DEPOSIT_PAID:{label:"Payment Received",color:"bg-green-100 text-green-700 border-green-200",icon:o.Z,description:"Payment received. Processing your order"},INSPECTION_PENDING:{label:"Inspection Pending",color:"bg-yellow-100 text-yellow-700 border-yellow-200",icon:d.Z,description:"Vehicle inspection in progress"},INSPECTION_COMPLETE:{label:"Inspection Complete",color:"bg-blue-100 text-blue-700 border-blue-200",icon:o.Z,description:"Inspection report ready for review"},AWAITING_APPROVAL:{label:"Awaiting Approval",color:"bg-orange-100 text-orange-700 border-orange-200",icon:m.Z,description:"Please review and approve the inspection report"},APPROVED:{label:"Approved",color:"bg-green-100 text-green-700 border-green-200",icon:o.Z,description:"Order approved. Proceeding with purchase"},PURCHASE_IN_PROGRESS:{label:"Purchasing",color:"bg-blue-100 text-blue-700 border-blue-200",icon:x.Z,description:"Purchasing your vehicle from dealer"},PURCHASED:{label:"Purchased",color:"bg-green-100 text-green-700 border-green-200",icon:o.Z,description:"Vehicle purchased successfully"},SHIPPED:{label:"Shipped",color:"bg-blue-100 text-blue-700 border-blue-200",icon:p.Z,description:"Vehicle has been shipped"},IN_TRANSIT:{label:"In Transit",color:"bg-blue-100 text-blue-700 border-blue-200",icon:p.Z,description:"Vehicle is on the way"},ARRIVED_PORT:{label:"Arrived at Port",color:"bg-green-100 text-green-700 border-green-200",icon:h.Z,description:"Vehicle has arrived at destination port"},CUSTOMS_CLEARANCE:{label:"Customs Clearance",color:"bg-yellow-100 text-yellow-700 border-yellow-200",icon:d.Z,description:"Clearing customs formalities"},CLEARED:{label:"Cleared",color:"bg-green-100 text-green-700 border-green-200",icon:o.Z,description:"Customs clearance complete"},DELIVERY_SCHEDULED:{label:"Delivery Scheduled",color:"bg-blue-100 text-blue-700 border-blue-200",icon:u.Z,description:"Delivery date has been scheduled"},DELIVERED:{label:"Delivered",color:"bg-emerald-100 text-emerald-700 border-emerald-200",icon:o.Z,description:"Vehicle successfully delivered"},CANCELLED:{label:"Cancelled",color:"bg-red-100 text-red-700 border-red-200",icon:m.Z,description:"Order has been cancelled"}},k=["BALANCE_PAID","DELIVERED","CANCELLED"];function P(){var e;let{id:s}=(0,i.useParams)(),t=(0,i.useRouter)(),[x,u]=(0,r.useState)(!1),{order:N,isLoading:P,isError:C,refetch:D}=(0,v.Aj)(s??"");if(P)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-emerald-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading order details..."})]})});if(!N)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow-sm max-w-md text-center",children:[a.jsx(m.Z,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Order Not Found"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"We couldn't find the order you're looking for."}),a.jsx("button",{onClick:()=>t.push("/marketplace/buyer"),className:"bg-emerald-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-emerald-700",children:"Back to Dashboard"})]})});if(C)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow-sm max-w-md text-center",children:[a.jsx(m.Z,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Error Loading Order"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"There was an error fetching your order details. Please try again."}),a.jsx("button",{onClick:()=>D(),className:"bg-emerald-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-emerald-700",children:"Retry"})]})});let A=w[N.status],S=A?.icon||n.Z,E=function(e){let s=e.vehicleSnapshot,t=e.vehicle;return s?.year&&s?.make&&s?.model?`${s.year} ${s.make} ${s.model}`:t?.year&&t?.make&&t?.model?`${t.year} ${t.make} ${t.model}`:e.requestNumber||`Order #${e.id}`}(N),Z=(e=N,e.vehicleSnapshot?.apiData?.listing?.retailListing?.primaryImage||e.vehicleSnapshot?.apiData?.listing?.wholesaleListing?.primaryImage||(e.vehicleSnapshot?.images&&e.vehicleSnapshot.images.length>0?e.vehicleSnapshot.images[0]:e.vehicle?.images&&e.vehicle.images.length>0?e.vehicle.images[0]:"https://images.pexels.com/photos/170811/pexels-photo-170811.jpeg?auto=compress&cs=tinysrgb&w=800")),q=N.paymentBreakdown?.totalUsd??N.totalLandedCostUsd??N.quotedPriceUsd??0,I=N.depositAmountUsd??N.paymentBreakdown?.totalUsedDeposit??0,L=N.payments?.reduce((e,s)=>s.status?.toUpperCase()==="COMPLETED"?e+(s.amountUsd??s.amount_usd??0):e,0)??0,T=Math.max(q-L,0),M="DEPOSIT_PAID"===N.status||k.includes(N.status),U=!k.includes(N.status)&&T>0;return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white border-b border-gray-200",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,a.jsxs)("button",{onClick:()=>t.push("/marketplace/buyer"),className:"flex items-center gap-2 text-gray-600 hover:text-emerald-600 transition-colors",children:[a.jsx(y.Z,{className:"w-5 h-5"}),"Back to Dashboard"]})})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsx("div",{className:`rounded-xl border-2 p-6 mb-6 ${A?.color||"bg-gray-100 text-gray-700 border-gray-200"}`,children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-white rounded-lg",children:a.jsx(S,{className:"w-8 h-8"})}),(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-2xl font-bold mb-1",children:A?.label||N.status}),a.jsx("p",{className:"text-sm opacity-90",children:A?.description})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-medium opacity-75",children:"Order Number"}),a.jsx("p",{className:"text-xl font-bold",children:N.requestNumber})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-gray-100",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Vehicle Information"})}),a.jsx("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-6",children:[a.jsx("img",{src:Z,alt:E,className:"w-full md:w-64 h-48 object-cover rounded-lg"}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-2xl font-bold text-gray-900 mb-2",children:E}),N.vehicleSnapshot?.vin&&(0,a.jsxs)("p",{className:"text-sm text-gray-500 mb-4",children:["VIN: ",N.vehicleSnapshot.vin]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[N.vehicleSnapshot?.vehicleType&&(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Type"}),a.jsx("p",{className:"font-semibold text-gray-900",children:N.vehicleSnapshot.vehicleType})]}),N.vehicleSnapshot?.transmission&&(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Transmission"}),a.jsx("p",{className:"font-semibold text-gray-900",children:N.vehicleSnapshot.transmission})]}),N.vehicleSnapshot?.fuelType&&(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Fuel Type"}),a.jsx("p",{className:"font-semibold text-gray-900",children:N.vehicleSnapshot.fuelType})]}),N.vehicleSnapshot?.apiData?.listing?.retailListing?.miles&&(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Mileage"}),(0,a.jsxs)("p",{className:"font-semibold text-gray-900",children:[N.vehicleSnapshot.apiData.listing.retailListing.miles.toLocaleString()," mi"]})]})]}),N.vehicleSnapshot?.dealerName&&(0,a.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Dealer"}),a.jsx("p",{className:"font-medium text-gray-900",children:N.vehicleSnapshot.dealerName}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[N.vehicleSnapshot.dealerCity,", ",N.vehicleSnapshot.dealerState]})]})]})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-gray-100",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Shipping & Delivery"})}),(0,a.jsxs)("div",{className:"p-6 space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-lg",children:[a.jsx(p.Z,{className:"w-6 h-6 text-emerald-600 mt-1"}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("p",{className:"font-semibold text-gray-900",children:"Shipping Method"}),a.jsx("p",{className:"text-gray-600",children:N.shippingMethod||"Not specified"})]})]}),(0,a.jsxs)("div",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-lg",children:[a.jsx(h.Z,{className:"w-6 h-6 text-emerald-600 mt-1"}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("p",{className:"font-semibold text-gray-900",children:"Delivery Address"}),a.jsx("p",{className:"text-gray-600",children:N.destinationAddress}),(0,a.jsxs)("p",{className:"text-gray-600",children:[N.destinationCity,", ",N.destinationState]}),a.jsx("p",{className:"text-gray-600",children:N.destinationCountry})]})]}),N.estimatedDeliveryDate&&(0,a.jsxs)("div",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-lg",children:[a.jsx(g.Z,{className:"w-6 h-6 text-emerald-600 mt-1"}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("p",{className:"font-semibold text-gray-900",children:"Estimated Delivery"}),a.jsx("p",{className:"text-gray-600",children:(0,j.p6)(N.estimatedDeliveryDate)})]})]}),N.deliveryInstructions&&(0,a.jsxs)("div",{className:"pt-4 border-t border-gray-100",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Delivery Instructions"}),a.jsx("p",{className:"text-sm text-gray-600",children:N.deliveryInstructions})]}),N.customerNotes&&(0,a.jsxs)("div",{className:"pt-4 border-t border-gray-100",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Your Notes"}),a.jsx("p",{className:"text-sm text-gray-600",children:N.customerNotes})]})]})]}),N.payments&&N.payments.length>0&&(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-gray-100",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Payment History"})}),a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Date"}),a.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Type"}),a.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Amount"}),a.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Status"}),a.jsx("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Reference"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:N.payments.map(e=>(0,a.jsxs)("tr",{children:[a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:(0,j.p6)(e.createdAt||e.created_at)}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 capitalize",children:e.paymentType||e.payment_type}),a.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:(0,j.xG)(e.amountUsd||e.amount_usd)}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${"completed"===e.status?"bg-green-100 text-green-700":"pending"===e.status?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:e.status})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:e.reference||e.paymentReference||"-"})]},e.id))})]})})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Cost Summary"}),N.paymentBreakdown?.breakdown?(0,a.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Vehicle Price"}),a.jsx("span",{className:"font-medium",children:(0,j.xG)(N.paymentBreakdown.breakdown.vehiclePriceUsd)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Sourcing Fee"}),a.jsx("span",{className:"font-medium",children:(0,j.xG)(N.paymentBreakdown.breakdown.sourcingFee)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Inspection"}),a.jsx("span",{className:"font-medium",children:(0,j.xG)(N.paymentBreakdown.breakdown.prePurchaseInspectionUsd)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"US Handling Fee"}),a.jsx("span",{className:"font-medium",children:(0,j.xG)(N.paymentBreakdown.breakdown.usHandlingFeeUsd)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Shipping"}),a.jsx("span",{className:"font-medium",children:(0,j.xG)(N.paymentBreakdown.breakdown.shippingCostUsd)})]})]}):(0,a.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Base Price"}),a.jsx("span",{className:"font-medium",children:(0,j.xG)(N.vehicleSnapshot?.priceUsd||0)})]}),N.quotedPriceUsd&&(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Quoted Price"}),a.jsx("span",{className:"font-medium",children:(0,j.xG)(N.quotedPriceUsd)})]})]}),(0,a.jsxs)("div",{className:"border-t border-gray-100 pt-3 mt-3",children:[(0,a.jsxs)("div",{className:"flex justify-between text-lg mb-2",children:[a.jsx("span",{className:"font-semibold text-gray-900",children:"Total Cost"}),a.jsx("span",{className:"font-bold text-gray-900",children:(0,j.xG)(N.paymentBreakdown?.totalUsd??0)})]}),N.totalLandedCostLocal&&N.localCurrency&&(0,a.jsxs)("p",{className:"text-right text-sm text-gray-600",children:["≈ ",(0,j.xG)(N.totalLandedCostLocal,"USD"===N.localCurrency||"NGN"===N.localCurrency?N.localCurrency:void 0)]})]}),(0,a.jsxs)("div",{className:"mt-6 space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{className:"text-gray-600",children:"Paid"}),a.jsx("span",{className:"font-medium text-green-600",children:(0,j.xG)(L)})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all",style:{width:`${Math.min(L/q*100,100)}%`}})})]}),T>0&&(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Remaining"}),a.jsx("span",{className:"font-medium text-orange-600",children:(0,j.xG)(T)})]})]}),0===q&&"PENDING_QUOTE"===N.status&&(0,a.jsxs)("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-blue-800 font-medium mb-1",children:"Quote Pending"}),a.jsx("p",{className:"text-xs text-blue-600",children:"Our team is preparing your detailed quote. Payment options will be available once the quote is ready."})]}),U&&a.jsx("div",{className:"mt-6",children:(0,a.jsxs)("button",{onClick:()=>u(!0),className:"w-full bg-emerald-600 text-white py-3 rounded-lg font-medium hover:bg-emerald-700 transition-colors flex items-center justify-center gap-2",children:[a.jsx(c.Z,{className:"w-5 h-5"}),"Make Payment"]})}),k.includes(N.status)&&(0,a.jsxs)("div",{className:"mt-6 bg-green-50 border border-green-200 rounded-lg p-4 flex items-center gap-3",children:[a.jsx(o.Z,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-green-800 font-medium",children:"Payment complete"})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Timeline"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-emerald-100 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(o.Z,{className:"w-4 h-4 text-emerald-600"})}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Request Submitted"}),a.jsx("p",{className:"text-sm text-gray-500",children:(0,j.p6)(N.createdAt)})]})]}),N.statusChangedAt&&(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(S,{className:"w-4 h-4 text-blue-600"})}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-gray-900",children:A?.label}),a.jsx("p",{className:"text-sm text-gray-500",children:(0,j.p6)(N.statusChangedAt)})]})]}),N.estimatedDeliveryDate&&(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(g.Z,{className:"w-4 h-4 text-gray-600"})}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Estimated Delivery"}),a.jsx("p",{className:"text-sm text-gray-500",children:(0,j.p6)(N.estimatedDeliveryDate)})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Documents"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("button",{className:"w-full flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx(d.Z,{className:"w-5 h-5 text-gray-400"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Quote Document"})]}),a.jsx(b,{className:"w-4 h-4 text-gray-400"})]}),(0,a.jsxs)("button",{className:"w-full flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors opacity-50 cursor-not-allowed",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx(d.Z,{className:"w-5 h-5 text-gray-400"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Inspection Report"})]}),a.jsx("span",{className:"text-xs text-gray-500",children:"Not available"})]})]})]}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[a.jsx(f.Z,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-semibold text-blue-900 mb-1",children:"Need Help?"}),a.jsx("p",{className:"text-sm text-blue-700 mb-3",children:"Our support team is here to assist you with your order."}),a.jsx(l.default,{href:"/contact",className:"text-sm font-medium text-blue-600 hover:text-blue-700 underline",children:"Contact Support"})]})]})})]})]})]}),x&&a.jsx(_,{orderId:N.id,depositAmount:I,totalCost:q,remainingBalance:T,depositAlreadyPaid:M,onClose:()=>u(!1)})]})}function _({orderId:e,depositAmount:s,totalCost:t,remainingBalance:l,depositAlreadyPaid:i,onClose:n}){let d=!i&&s>0,c=i&&l>0,[o,m]=(0,r.useState)(()=>d?"deposit":c?"balance":"full"),{mutateAsync:x,isPending:p}=(0,N.E)(),h={deposit:{amount:s,paymentType:"DEPOSIT"},full:{amount:t,paymentType:"FULL_PAYMENT"},balance:{amount:l,paymentType:"FULL_PAYMENT"}}[o],u=async()=>{try{await x({orderId:e,paymentType:h.paymentType,provider:"paystack",callbackUrl:"https://afrozonauto-frontend-flame.vercel.app/marketplace/buyer/order/payment"})}catch(e){console.error("Payment initialization failed:",e)}};return a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl w-full max-w-md shadow-2xl flex flex-col",children:[a.jsx("div",{className:"p-6 border-b border-gray-100",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Make Payment"}),a.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",disabled:p,children:"✕"})]})}),(0,a.jsxs)("div",{className:"p-6 space-y-3 flex-1",children:[d&&a.jsx("button",{onClick:()=>m("deposit"),disabled:p,className:`w-full p-4 border-2 rounded-lg text-left transition-all ${"deposit"===o?"border-emerald-500 bg-emerald-50":"border-gray-200 hover:border-gray-300"} ${p?"opacity-50 cursor-not-allowed":""}`,children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:"Pay Deposit"}),a.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:"Secure your order now, pay the rest later"})]}),a.jsx("p",{className:"text-lg font-bold text-emerald-600 whitespace-nowrap ml-4",children:(0,j.xG)(s)})]})}),!i&&t>0&&a.jsx("button",{onClick:()=>m("full"),disabled:p,className:`w-full p-4 border-2 rounded-lg text-left transition-all ${"full"===o?"border-emerald-500 bg-emerald-50":"border-gray-200 hover:border-gray-300"} ${p?"opacity-50 cursor-not-allowed":""}`,children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:"Pay Full Amount"}),a.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:"Complete the entire payment at once"})]}),a.jsx("p",{className:"text-lg font-bold text-emerald-600 whitespace-nowrap ml-4",children:(0,j.xG)(t)})]})}),c&&a.jsx("button",{onClick:()=>m("balance"),disabled:p,className:`w-full p-4 border-2 rounded-lg text-left transition-all border-emerald-500 bg-emerald-50 ${p?"opacity-50 cursor-not-allowed":""}`,children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:"Pay Remaining Balance"}),a.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:"Complete your outstanding balance"})]}),a.jsx("p",{className:"text-lg font-bold text-emerald-600 whitespace-nowrap ml-4",children:(0,j.xG)(l)})]})})]}),a.jsx("div",{className:"p-6 pt-0",children:a.jsx("button",{onClick:u,disabled:p||0===h.amount,className:"w-full px-4 py-3 bg-emerald-600 text-white rounded-lg font-medium hover:bg-emerald-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:p?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing..."]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(f.Z,{className:"w-5 h-5"}),"Pay ",(0,j.xG)(h.amount)]})})})]})})}},90982:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l});var a=t(19510);let r=(0,t(68570).createProxy)(String.raw`C:\Users\HP\Desktop\Freelance\afrozonauto-frontend\src\views\RequestDetails.tsx#RequestDetail`);t(71159);let l=()=>a.jsx("div",{children:a.jsx(r,{})})}};var s=require("../../../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[92,937,464,9],()=>t(60385));module.exports=a})();