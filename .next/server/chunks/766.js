exports.id=766,exports.ids=[766],exports.modules={11825:()=>{},87888:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(76557).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},24230:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(76557).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},37358:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(76557).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},67427:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(76557).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},77636:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(76557).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},88307:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(76557).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},34291:(e,t,r)=>{"use strict";r.d(t,{U:()=>d});var a=r(10326),s=r(90434),i=r(67427),n=r(77636),o=r(37358),c=r(24230),l=r(65016);function d({vehicle:e,onSave:t,isSaved:r}){var d;let h=(d=e,d.apiData?.listing?.retailListing?.primaryImage||d.apiData?.listing?.wholesaleListing?.primaryImage||(d.images&&d.images.length>0?d.images[0]:"https://images.pexels.com/photos/170811/pexels-photo-170811.jpeg?auto=compress&cs=tinysrgb&w=800"));return(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-lg transition-all duration-300 group",children:[(0,a.jsxs)("div",{className:"relative aspect-[16/10] overflow-hidden bg-gray-100",children:[a.jsx("img",{src:h,alt:`${e.year} ${e.make} ${e.model}`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",onError:e=>{e.currentTarget.src="https://images.pexels.com/photos/170811/pexels-photo-170811.jpeg?auto=compress&cs=tinysrgb&w=800"}}),a.jsx("div",{className:"absolute top-3 left-3",children:a.jsx("span",{className:"bg-emerald-600 text-white text-xs font-semibold px-2 py-1 rounded",children:e.vehicleType})}),t&&a.jsx("button",{onClick:r=>{r.preventDefault(),t(e.id)},className:`absolute top-3 right-3 p-2 rounded-full transition-colors ${r?"bg-red-500 text-white":"bg-white/90 text-gray-600 hover:bg-red-500 hover:text-white"}`,children:a.jsx(i.Z,{className:`w-5 h-5 ${r?"fill-current":""}`})})]}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 text-start",children:[e.year," ",e.make," ",e.model]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-sm text-gray-500 mt-1",children:[a.jsx(n.Z,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:[e.dealerCity,", ",e.dealerState]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx(o.Z,{className:"w-4 h-4"}),a.jsx("span",{children:e.year})]}),a.jsx("span",{className:"text-gray-400",children:"|"}),a.jsx("span",{children:e.transmission})]}),(0,a.jsxs)("div",{className:"border-t border-gray-100 pt-4",children:[a.jsx("div",{className:"flex justify-between items-start mb-3",children:(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"US Price"}),a.jsx("p",{className:"text-lg font-bold text-gray-900",children:(0,l.xG)(e.priceUsd)})]})}),(0,a.jsxs)(s.default,{href:`/marketplace/${e.id}`,className:"flex items-center justify-center gap-2 w-full bg-gray-900 text-white py-2.5 rounded-lg font-medium hover:bg-emerald-600 transition-colors",children:["View Details",a.jsx(c.Z,{className:"w-4 h-4"})]})]})]})]})}},17725:(e,t,r)=>{"use strict";r.d(t,{PT:()=>d,$v:()=>l,DG:()=>h});var a=r(20108),s=r(55137);let i=e=>{if(!e)return"";let t=new URLSearchParams;Object.entries(e).forEach(([e,r])=>{null!=r&&""!==r&&t.append(e,String(r))});let r=t.toString();return r?`?${r}`:""},n=e=>({vehicles:e.data.data,meta:e.data.meta}),o={getAll:async e=>{try{let t=i(e),r=await s.x.get(`/vehicles${t}`);return n(r.data)}catch(e){throw console.error("Error fetching vehicles:",e),Error("Failed to fetch vehicles")}},getById:async e=>{try{return(await s.x.get(`/vehicles/${e}`)).data.data}catch(t){throw console.error(`Error fetching vehicle ${e}:`,t),Error(`Failed to fetch vehicle with ID: ${e}`)}},saveVehicle:async e=>{try{return(await s.x.post("/vehicles/save-from-api",e)).data.data}catch(e){throw console.error("Error saving vehicle:",e),Error("Failed to save vehicle")}},search:async(e,t)=>o.getAll({...t,search:e})};var c=r(17577);function l(e){let t=(0,a.a)({queryKey:["vehicles",e],queryFn:async()=>await o.getAll(e),staleTime:3e5,refetchOnWindowFocus:!1});return{vehicles:t.data?.vehicles??[],meta:t.data?.meta,isLoading:t.isLoading,isError:t.isError,error:t.error,refetch:t.refetch,isFetching:t.isFetching}}function d(e){let t=(0,a.a)({queryKey:["vehicle",e],queryFn:async()=>(await o.getById(e)).data,enabled:!!e,staleTime:6e5});return{vehicle:t.data,isLoading:t.isLoading,isError:t.isError,error:t.error,refetch:t.refetch}}function h(e){let[t,r]=(0,c.useState)(1),a=(0,c.useMemo)(()=>Math.ceil(30*t/100),[t]),{vehicles:s,meta:i,isLoading:n,isError:o,error:d,refetch:h}=l({...e,page:a,limit:100}),{paginatedVehicles:u,enhancedMeta:g}=(0,c.useMemo)(()=>{if(!s.length||!i)return{paginatedVehicles:[],enhancedMeta:null};let e=i.total||i.fromApi||0,r=(t-1)*30,n=30*t,o=(a-1)*100,c=Math.min(n-o,s.length);return{paginatedVehicles:s.slice(r-o,c),enhancedMeta:{...i,frontendPage:t,frontendPages:Math.ceil(e/30),frontendPageSize:30,apiPage:a,apiPages:i.pages,displayStart:r+1,displayEnd:Math.min(n,e)}}},[s,i,t,a]),m=e=>{g&&e>=1&&e<=g.frontendPages&&(r(e),window.scrollTo({top:0,behavior:"smooth"}))};return{vehicles:u,allVehicles:s,meta:g,isLoading:n,isError:o,error:d,refetch:h,currentPage:t,totalPages:g?.frontendPages||0,goToPage:m,nextPage:()=>{g&&t<g.frontendPages&&m(t+1)},prevPage:()=>{t>1&&m(t-1)},hasNextPage:!!g&&t<g.frontendPages,hasPrevPage:t>1,resetPagination:()=>r(1)}}},55137:(e,t,r)=>{"use strict";r.d(t,{x:()=>i});var a=r(94464),s=r(77109);let i=a.Z.create({baseURL:process.env.NEXT_PUBLIC_API_URL||"https://afrozonauto-backend.onrender.com/api",headers:{"Content-Type":"application/json"}});i.interceptors.request.use(async e=>{let t=await (0,s.getSession)(),r=t?.accessToken;return r&&(e.headers.Authorization=`Bearer ${r}`),e},e=>Promise.reject(e)),i.interceptors.response.use(e=>e,e=>(e.response?.status===401&&(window.location.href="/login"),Promise.reject(e)))},65016:(e,t,r)=>{"use strict";r.d(t,{LI:()=>l,X:()=>o,p6:()=>c,qA:()=>i,xG:()=>n,yG:()=>d});let a={sourcing_fee_percent:5,sourcing_fee_min_usd:500,inspection_fee_usd:150,us_handling_fee_usd:350,shipping_roro_base_usd:1800,shipping_container_base_usd:2500,exchange_rate_ngn_usd:1550,timeline_days_roro:45,timeline_days_container:60},s={CAR:1,SEDAN:1,COUPE:1,HATCHBACK:1,WAGON:1.05,CONVERTIBLE:1.05,SUV:1.15,TRUCK:1.25,VAN:1.2,MOTORCYCLE:0};function i(e,t,r,i=a){let n=s[t]||1,o=Math.max(i.sourcing_fee_percent/100*e,i.sourcing_fee_min_usd),c=i.inspection_fee_usd,l=i.us_handling_fee_usd,d=("RORO"===r?i.shipping_roro_base_usd:i.shipping_container_base_usd)*n,h=e+o+c+l+d,u=h*i.exchange_rate_ngn_usd;return{breakdown:{vehicle_price:e,sourcing_fee:o,inspection_fee:c,us_handling_fee:l,shipping_cost:d,total_usd:h,total_ngn:u,exchange_rate:i.exchange_rate_ngn_usd},estimatedDeliveryDays:"RORO"===r?i.timeline_days_roro:i.timeline_days_container,depositAmount:.3*h}}function n(e,t="USD"){return"NGN"===t?new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0,maximumFractionDigits:0}).format(e):new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function o(e){let t=new Date;return t.setDate(t.getDate()+e),t}function c(e){return("string"==typeof e?new Date(e):e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}let l=["Lagos","Abuja","Port Harcourt","Kano","Ibadan","Enugu","Kaduna","Benin City","Warri","Calabar","Aba","Jos","Ilorin","Onitsha","Abeokuta","Uyo","Owerri","Akure","Bauchi","Sokoto"],d=["Toyota","Honda","Ford","Chevrolet","BMW","Mercedes-Benz","Lexus","Nissan","Hyundai","Kia","Mazda","Volkswagen","Audi","Subaru","Jeep","Dodge","Ram","GMC","Acura","Infiniti","Cadillac","Lincoln","Volvo","Land Rover","Porsche"]}};