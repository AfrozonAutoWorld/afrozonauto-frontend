(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[880],{293:function(e,t,a){Promise.resolve().then(a.bind(a,3495))},3495:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return A}});var s=a(7437),r=a(2265),n=a(9376),i=a(2252),l=a(1047),o=a(7662),c=a(8728),d=a(7928),m=a(3774),u=a(2660),h=a(2451),x=a(407),g=a(5302),p=a(8906),f=a(3618),v=a(5738),b=a(340),y=a(3245),N=a(8135);function j(e){var t,a,n,i,l,o,c,d,m;let{costBreakdown:u,isLoading:h,onShippingMethodChange:x}=e,[g,p]=(0,r.useState)("RORO"),[j,w]=(0,r.useState)("Lagos"),[_,k]=(0,r.useState)(!1);(0,r.useEffect)(()=>{var e;let t=null==u?void 0:null===(e=u.paymentBreakdown)||void 0===e?void 0:e.shippingMethod;t&&["RORO","CONTAINER","AIR_FREIGHT","EXPRESS"].includes(t)&&p(t)},[null==u?void 0:null===(t=u.paymentBreakdown)||void 0===t?void 0:t.shippingMethod]);let C=null==u?void 0:u.paymentBreakdown,P=(null==u||u.defaultPricing,"RORO"===g?45:"CONTAINER"===g?60:"AIR_FREIGHT"===g?15:7),F=e=>{p(e),null==x||x(e)},R=C?[{label:"Vehicle Price",value:null!==(a=C.breakdown.vehiclePriceUsd)&&void 0!==a?a:0,info:"Base price of the vehicle in USD"},{label:"Afrozon Sourcing Fee",value:null!==(n=C.breakdown.sourcingFee)&&void 0!==n?n:0,info:"5% of vehicle price (min $500)"},{label:"Pre-Purchase Inspection",value:null!==(i=C.breakdown.prePurchaseInspectionUsd)&&void 0!==i?i:0,info:"Professional vehicle inspection"},{label:"US Handling Fee",value:null!==(l=C.breakdown.usHandlingFeeUsd)&&void 0!==l?l:0,info:"Documentation and export prep"},{label:"Shipping Cost",value:null!==(o=C.breakdown.shippingCostUsd)&&void 0!==o?o:0,info:"".concat(g," shipping method")}]:[];return(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,s.jsxs)("div",{className:"bg-gradient-to-r from-emerald-600 to-teal-600 px-6 py-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-white",children:[(0,s.jsx)(f.Z,{className:"w-5 h-5"}),(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Landed Cost Calculator"})]}),(0,s.jsx)("p",{className:"text-emerald-100 text-sm mt-1",children:"Calculate your total cost including shipping to Nigeria"})]}),(0,s.jsxs)("div",{className:"p-6 space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Shipping Method"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsxs)("button",{onClick:()=>F("RORO"),className:"flex items-center justify-center gap-2 p-4 rounded-lg border-2 transition-all ".concat("RORO"===g?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-gray-200 hover:border-gray-300"),children:[(0,s.jsx)(v.Z,{className:"w-5 h-5"}),(0,s.jsxs)("div",{className:"text-left",children:[(0,s.jsx)("div",{className:"font-medium",children:"RoRo"}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:"Roll-on/Roll-off"})]})]}),(0,s.jsxs)("button",{onClick:()=>F("CONTAINER"),className:"flex items-center justify-center gap-2 p-4 rounded-lg border-2 transition-all ".concat("CONTAINER"===g?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-gray-200 hover:border-gray-300"),children:[(0,s.jsx)(b.Z,{className:"w-5 h-5"}),(0,s.jsxs)("div",{className:"text-left",children:[(0,s.jsx)("div",{className:"font-medium",children:"Container"}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:"Full container"})]})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Location"}),(0,s.jsx)("select",{value:j,onChange:e=>w(e.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-emerald-500 focus:border-transparent",children:N.LI.map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]}),h?(0,s.jsx)("div",{className:"bg-gray-50 rounded-xl p-5 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-8 h-8 border-4 border-emerald-600 border-t-transparent rounded-full animate-spin mx-auto mb-2"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Calculating costs..."})]})}):C?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"bg-gray-50 rounded-xl p-5",children:(0,s.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Total Landed Cost"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:(0,N.xG)(null!==(c=C.totalUsd)&&void 0!==c?c:0)}),(0,s.jsx)("p",{className:"text-lg text-emerald-600 font-medium",children:(0,N.xG)((null!==(d=C.totalUsd)&&void 0!==d?d:0)*1550,"NGN")})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Est. Delivery"}),(0,s.jsxs)("p",{className:"text-lg font-semibold text-gray-900",children:[P," days"]}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["~",(0,N.p6)((0,N.X)(P))]})]})]})}),(0,s.jsxs)("button",{onClick:()=>k(!_),className:"w-full text-sm text-emerald-600 hover:text-emerald-700 font-medium flex items-center justify-center gap-1",children:[_?"Hide":"Show"," Cost Breakdown",(0,s.jsx)(y.Z,{className:"w-4 h-4"})]}),_&&(0,s.jsx)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:(0,s.jsx)("table",{className:"w-full text-sm",children:(0,s.jsxs)("tbody",{children:[R.map((e,t)=>(0,s.jsxs)("tr",{className:t%2==0?"bg-gray-50":"bg-white",children:[(0,s.jsx)("td",{className:"px-4 py-2 text-gray-600",children:e.label}),(0,s.jsx)("td",{className:"px-4 py-2 text-right font-medium text-gray-900",children:(0,N.xG)(e.value)})]},t)),(0,s.jsxs)("tr",{className:"bg-emerald-50 font-semibold",children:[(0,s.jsx)("td",{className:"px-4 py-3 text-emerald-800",children:"Total"}),(0,s.jsx)("td",{className:"px-4 py-3 text-right text-emerald-800",children:(0,N.xG)(null!==(m=C.totalUsd)&&void 0!==m?m:0)})]})]})})}),(0,s.jsxs)("p",{className:"text-xs text-gray-500 text-center",children:["Exchange rate: $1 = ",(0,N.xG)(1550,"NGN").replace("NGN","").trim()," NGN",(0,s.jsx)("br",{}),"Prices are estimates and may vary based on market conditions."]})]}):(0,s.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:(0,s.jsx)("p",{className:"text-sm text-amber-800 text-center",children:"Unable to load pricing information. Please try again later."})})]})]})}var w=a(6540),_=a(605),k=a(5846),C=a(9827),P=a(1770),F=a(8118),R=a(999);function E(){var e;let{id:t}=(0,n.useParams)(),a=(0,n.useRouter)(),{data:f}=(0,_.useSession)(),[v,b]=(0,r.useState)(0),[y,E]=(0,r.useState)("RORO"),{vehicle:A,isLoading:S,isError:O,error:L}=(0,w.PT)(t||""),{costBreakdown:T,isLoading:I}=(0,k.j4)(t,y),U=function(){let e=(0,n.useRouter)(),t=(0,C.NL)();return(0,P.D)({mutationFn:async e=>(await F.k.requestVehicle(e)).data.data.data,onSuccess:a=>{t.invalidateQueries({queryKey:["orders"]}),a.id&&t.setQueryData(["orders",a.id],a),(0,R.C)({type:"success",message:"Request sent successfully! Redirecting to checkout page..."}),e.push("/marketplace/order/".concat(a.id))},onError:e=>{(0,R.C)({type:"error",message:e.message||"Failed to submit request"})}})}();if(S)return(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 border-4 border-emerald-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Loading vehicle details..."})]})});if(O)return(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center max-w-md mx-auto px-4",children:[(0,s.jsx)(i.Z,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Error Loading Vehicle"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:(null==L?void 0:L.message)||"Failed to load vehicle details"}),(0,s.jsx)("button",{onClick:()=>a.push("/marketplace"),className:"bg-emerald-600 text-white px-6 py-3 rounded-lg hover:bg-emerald-700 transition-colors",children:"Back to Vehicles"})]})});if(!A)return(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center max-w-md mx-auto px-4",children:[(0,s.jsx)(i.Z,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Vehicle Not Found"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:"The vehicle you're looking for doesn't exist or has been removed."}),(0,s.jsx)("button",{onClick:()=>a.push("/marketplace"),className:"bg-emerald-600 text-white px-6 py-3 rounded-lg hover:bg-emerald-700 transition-colors",children:"Browse Vehicles"})]})});let D=[{icon:l.Z,label:"Year",value:A.year},{icon:o.Z,label:"Make",value:A.make},{icon:c.Z,label:"Transmission",value:A.transmission},{icon:d.Z,label:"Fuel Type",value:A.fuelType},{icon:c.Z,label:"Engine",value:A.engineSize},{icon:m.Z,label:"Location",value:"".concat(A.dealerCity,", ").concat(A.dealerState)}],B=null!==(e=A.images)&&void 0!==e?e:[];return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,s.jsxs)("button",{onClick:()=>a.back(),className:"flex items-center gap-2 text-gray-600 hover:text-emerald-600 transition-colors",children:[(0,s.jsx)(u.Z,{className:"w-5 h-5"}),"Back to Search"]})})}),(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,s.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,s.jsx)("div",{className:"relative bg-white rounded-2xl overflow-hidden shadow-sm",children:(0,s.jsxs)("div",{className:"relative aspect-[16/10]",children:[(0,s.jsx)("img",{src:B[v]||"https://images.pexels.com/photos/170811/pexels-photo-170811.jpeg?auto=compress&cs=tinysrgb&w=800",alt:"".concat(A.year," ").concat(A.make," ").concat(A.model),className:"w-full h-full object-cover"}),A.images.length>1&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:()=>{b(e=>(e-1+A.images.length)%A.images.length)},className:"absolute left-4 top-1/2 -translate-y-1/2 w-10 h-10 bg-black/50 rounded-full flex items-center justify-center text-white hover:bg-black/70 transition-colors",children:(0,s.jsx)(h.Z,{className:"w-6 h-6"})}),(0,s.jsx)("button",{onClick:()=>{b(e=>(e+1)%A.images.length)},className:"absolute right-4 top-1/2 -translate-y-1/2 w-10 h-10 bg-black/50 rounded-full flex items-center justify-center text-white hover:bg-black/70 transition-colors",children:(0,s.jsx)(x.Z,{className:"w-6 h-6"})})]}),(0,s.jsx)("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2",children:A.images.map((e,t)=>(0,s.jsx)("button",{onClick:()=>b(t),className:"w-2 h-2 rounded-full transition-colors ".concat(t===v?"bg-white":"bg-white/50")},t))})]})}),(0,s.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-start justify-between gap-4 mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)("span",{className:"bg-emerald-100 text-emerald-700 text-sm font-medium px-3 py-1 rounded-full",children:A.vehicleType}),(0,s.jsx)("span",{className:"bg-blue-100 text-blue-700 text-sm font-medium px-3 py-1 rounded-full",children:A.status})]}),(0,s.jsxs)("h1",{className:"text-3xl font-bold text-gray-900",children:[A.year," ",A.make," ",A.model]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-gray-500 mt-2",children:[(0,s.jsx)(m.Z,{className:"w-4 h-4"}),(0,s.jsxs)("span",{children:[A.dealerName," - ",A.dealerCity,", ",A.dealerState]})]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"US Price"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:(0,N.xG)(A.priceUsd)})]})]}),(0,s.jsxs)("div",{className:"border-t border-gray-100 pt-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Vehicle Specifications"}),(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:D.map((e,t)=>(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-gray-500 mb-1",children:[(0,s.jsx)(e.icon,{className:"w-4 h-4"}),(0,s.jsx)("span",{className:"text-sm",children:e.label})]}),(0,s.jsx)("p",{className:"font-semibold text-gray-900",children:e.value||"N/A"})]},t))})]}),(0,s.jsxs)("div",{className:"border-t border-gray-100 pt-6 mt-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"VIN Information"}),(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,s.jsx)("p",{className:"font-mono text-lg text-gray-900",children:A.vin}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Full VIN history report will be provided after inspection"})]})]}),A.features&&A.features.length>0&&(0,s.jsxs)("div",{className:"border-t border-gray-100 pt-6 mt-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Features"}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-3",children:A.features.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(g.Z,{className:"w-5 h-5 text-emerald-500"}),(0,s.jsx)("span",{className:"text-gray-700",children:e})]},t))})]})]}),(0,s.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)(i.Z,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-amber-800 font-medium",children:"Important Disclaimer"}),(0,s.jsx)("p",{className:"text-sm text-amber-700 mt-1",children:"Afrozon purchases vehicles on your behalf from verified US sources and handles export and delivery. All prices are estimates and subject to market conditions. A professional inspection will be conducted before final purchase approval."})]})]})})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(j,{vehiclePrice:A.priceUsd,vehicleType:A.vehicleType,costBreakdown:T,isLoading:I,onShippingMethodChange:e=>{E(e)}}),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,s.jsxs)("button",{onClick:()=>{if(!(null==f?void 0:f.user)){a.push("/login");return}U.mutate({identifier:A.id,type:A.vin||A.id,shippingMethod:y})},disabled:U.isPending,className:"w-full bg-emerald-600 text-white py-4 rounded-xl font-semibold text-lg hover:bg-emerald-700 transition-colors flex items-center justify-center gap-2",children:[(0,s.jsx)(p.Z,{className:"w-5 h-5"}),"Request This Vehicle"]}),(0,s.jsx)("p",{className:"text-center text-sm text-gray-500 mt-3",children:"30% deposit required to secure this vehicle"})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Why Choose Afrozon?"}),(0,s.jsx)("div",{className:"space-y-3",children:["Professional pre-purchase inspection","Full VIN history report","Secure escrow payment","Door-to-door delivery","Real-time tracking","Customer support throughout"].map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(g.Z,{className:"w-5 h-5 text-emerald-500"}),(0,s.jsx)("span",{className:"text-sm text-gray-600",children:e})]},t))})]})]})]})})]})}function A(){return(0,s.jsx)(E,{})}},5846:function(e,t,a){"use strict";a.d(t,{Aj:function(){return i},j4:function(){return l},yi:function(){return n}});var s=a(1713),r=a(8118);function n(){var e,t,a,n,i,l,o,c,d,m;let u=(0,s.a)({queryKey:["orders"],queryFn:async()=>(await r.k.getAllOrder()).data.data.data,staleTime:3e5,refetchOnWindowFocus:!1});return{orders:null!==(l=null===(e=u.data)||void 0===e?void 0:e.orders)&&void 0!==l?l:[],total:null!==(o=null===(t=u.data)||void 0===t?void 0:t.total)&&void 0!==o?o:0,page:null!==(c=null===(a=u.data)||void 0===a?void 0:a.page)&&void 0!==c?c:1,limit:null!==(d=null===(n=u.data)||void 0===n?void 0:n.limit)&&void 0!==d?d:10,totalPages:null!==(m=null===(i=u.data)||void 0===i?void 0:i.totalPages)&&void 0!==m?m:1,isLoading:u.isLoading,isError:u.isError,error:u.error,refetch:u.refetch}}function i(e){let t=(0,s.a)({queryKey:["orders",e],queryFn:async()=>(await r.k.getOrderById(e)).data.data.data,enabled:!!e,staleTime:3e5,refetchOnWindowFocus:!1});return{order:t.data,isLoading:t.isLoading,isError:t.isError,error:t.error,refetch:t.refetch}}function l(e,t){let a=(0,s.a)({queryKey:["orders","costBreakdown",e,t],queryFn:async()=>(await r.k.getPredefinePrices(e,t)).data.data.data,enabled:!!e&&!!t,staleTime:3e5,refetchOnWindowFocus:!1});return{costBreakdown:a.data,isLoading:a.isLoading,isError:a.isError,error:a.error}}},6540:function(e,t,a){"use strict";a.d(t,{PT:function(){return d},$v:function(){return c},DG:function(){return m}});var s=a(1713),r=a(6305);let n=e=>{if(!e)return"";let t=new URLSearchParams;Object.entries(e).forEach(e=>{let[a,s]=e;null!=s&&""!==s&&t.append(a,String(s))});let a=t.toString();return a?"?".concat(a):""},i=e=>({vehicles:e.data.data,meta:e.data.meta}),l={getAll:async e=>{try{let t=n(e),a=await r.x.get("/vehicles".concat(t));return i(a.data)}catch(e){throw console.error("Error fetching vehicles:",e),Error("Failed to fetch vehicles")}},getById:async e=>{try{return(await r.x.get("/vehicles/".concat(e))).data.data}catch(t){throw console.error("Error fetching vehicle ".concat(e,":"),t),Error("Failed to fetch vehicle with ID: ".concat(e))}},saveVehicle:async e=>{try{return(await r.x.post("/vehicles/save-from-api",e)).data.data}catch(e){throw console.error("Error saving vehicle:",e),Error("Failed to save vehicle")}},search:async(e,t)=>l.getAll({...t,search:e})};var o=a(2265);function c(e){var t,a,r;let n=(0,s.a)({queryKey:["vehicles",e],queryFn:async()=>await l.getAll(e),staleTime:3e5,refetchOnWindowFocus:!1});return{vehicles:null!==(r=null===(t=n.data)||void 0===t?void 0:t.vehicles)&&void 0!==r?r:[],meta:null===(a=n.data)||void 0===a?void 0:a.meta,isLoading:n.isLoading,isError:n.isError,error:n.error,refetch:n.refetch,isFetching:n.isFetching}}function d(e){let t=(0,s.a)({queryKey:["vehicle",e],queryFn:async()=>(await l.getById(e)).data,enabled:!!e,staleTime:6e5});return{vehicle:t.data,isLoading:t.isLoading,isError:t.isError,error:t.error,refetch:t.refetch}}function m(e){let[t,a]=(0,o.useState)(1),s=(0,o.useMemo)(()=>Math.ceil(30*t/100),[t]),{vehicles:r,meta:n,isLoading:i,isError:l,error:d,refetch:m}=c({...e,page:s,limit:100}),{paginatedVehicles:u,enhancedMeta:h}=(0,o.useMemo)(()=>{if(!r.length||!n)return{paginatedVehicles:[],enhancedMeta:null};let e=n.total||n.fromApi||0,a=(t-1)*30,i=30*t,l=(s-1)*100,o=Math.min(i-l,r.length);return{paginatedVehicles:r.slice(a-l,o),enhancedMeta:{...n,frontendPage:t,frontendPages:Math.ceil(e/30),frontendPageSize:30,apiPage:s,apiPages:n.pages,displayStart:a+1,displayEnd:Math.min(i,e)}}},[r,n,t,s]),x=e=>{h&&e>=1&&e<=h.frontendPages&&(a(e),window.scrollTo({top:0,behavior:"smooth"}))};return{vehicles:u,allVehicles:r,meta:h,isLoading:i,isError:l,error:d,refetch:m,currentPage:t,totalPages:(null==h?void 0:h.frontendPages)||0,goToPage:x,nextPage:()=>{h&&t<h.frontendPages&&x(t+1)},prevPage:()=>{t>1&&x(t-1)},hasNextPage:!!h&&t<h.frontendPages,hasPrevPage:t>1,resetPagination:()=>a(1)}}},6305:function(e,t,a){"use strict";a.d(t,{x:function(){return i}});var s=a(3464),r=a(605),n=a(257);let i=s.Z.create({baseURL:n.env.NEXT_PUBLIC_API_URL||"https://afrozonauto-backend.onrender.com/api",headers:{"Content-Type":"application/json"}});i.interceptors.request.use(async e=>{let t=await (0,r.getSession)(),a=null==t?void 0:t.accessToken;return a&&(e.headers.Authorization="Bearer ".concat(a)),e},e=>Promise.reject(e)),i.interceptors.response.use(e=>e,e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)===401&&(window.location.href="/login"),Promise.reject(e)})},8118:function(e,t,a){"use strict";a.d(t,{k:function(){return r}});var s=a(6305);let r={getAllOrder:async()=>s.x.get("/orders/my-orders"),requestVehicle:async e=>s.x.post("/orders",e),getOrderById:async e=>s.x.get("/orders/".concat(e)),getPredefinePrices:async(e,t)=>s.x.get("/orders/order-summary/".concat(e,"/?shippingMethod=").concat(t))}},8135:function(e,t,a){"use strict";a.d(t,{LI:function(){return c},X:function(){return l},p6:function(){return o},qA:function(){return n},xG:function(){return i},yG:function(){return d}});let s={sourcing_fee_percent:5,sourcing_fee_min_usd:500,inspection_fee_usd:150,us_handling_fee_usd:350,shipping_roro_base_usd:1800,shipping_container_base_usd:2500,exchange_rate_ngn_usd:1550,timeline_days_roro:45,timeline_days_container:60},r={CAR:1,SEDAN:1,COUPE:1,HATCHBACK:1,WAGON:1.05,CONVERTIBLE:1.05,SUV:1.15,TRUCK:1.25,VAN:1.2,MOTORCYCLE:0};function n(e,t,a){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s,i=r[t]||1,l=Math.max(n.sourcing_fee_percent/100*e,n.sourcing_fee_min_usd),o=n.inspection_fee_usd,c=n.us_handling_fee_usd,d=("RORO"===a?n.shipping_roro_base_usd:n.shipping_container_base_usd)*i,m=e+l+o+c+d,u=m*n.exchange_rate_ngn_usd;return{breakdown:{vehicle_price:e,sourcing_fee:l,inspection_fee:o,us_handling_fee:c,shipping_cost:d,total_usd:m,total_ngn:u,exchange_rate:n.exchange_rate_ngn_usd},estimatedDeliveryDays:"RORO"===a?n.timeline_days_roro:n.timeline_days_container,depositAmount:.3*m}}function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";return"NGN"===t?new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0,maximumFractionDigits:0}).format(e):new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function l(e){let t=new Date;return t.setDate(t.getDate()+e),t}function o(e){return("string"==typeof e?new Date(e):e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}let c=["Lagos","Abuja","Port Harcourt","Kano","Ibadan","Enugu","Kaduna","Benin City","Warri","Calabar","Aba","Jos","Ilorin","Onitsha","Abeokuta","Uyo","Owerri","Akure","Bauchi","Sokoto"],d=["Toyota","Honda","Ford","Chevrolet","BMW","Mercedes-Benz","Lexus","Nissan","Hyundai","Kia","Mazda","Volkswagen","Audi","Subaru","Jeep","Dodge","Ram","GMC","Acura","Infiniti","Cadillac","Lincoln","Volvo","Land Rover","Porsche"]},999:function(e,t,a){"use strict";a.d(t,{C:function(){return r}});var s=a(4438);let r=e=>{let{type:t,message:a,duration:r=2e3,position:n="top-center"}=e,i={color:"#fff"},l={success:"#4CAF50",error:"#FF5722",info:"#2196F3",warning:"#FFC107"};switch(s.A.dismiss(),t){case"success":s.A.success(a,{duration:r,style:{...i,backgroundColor:l.success},position:n});break;case"error":s.A.error(a,{duration:r,style:{...i,backgroundColor:l.error},position:n});break;case"info":(0,s.A)(a,{duration:r,style:{...i,backgroundColor:l.info},position:n});break;case"warning":(0,s.A)(a,{duration:r,style:{...i,backgroundColor:l.warning},position:n});break;default:console.warn("Invalid toast type")}}}},function(e){e.O(0,[605,21,464,799,713,706,971,117,744],function(){return e(e.s=293)}),_N_E=e.O()}]);