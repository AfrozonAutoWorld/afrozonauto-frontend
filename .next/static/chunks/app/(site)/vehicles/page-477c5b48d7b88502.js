(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[239],{3725:function(e,a,r){Promise.resolve().then(r.bind(r,2755))},2755:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return L}});var l=r(7437),s=r(2265),t=r(2252),i=r(3247),n=r(4413),o=r(1473),d=r(7586),c=r(875),m=r(6116),u=r(5363),x=r(2489),b=r(8135);let g=[{fullName:"Alabama",abbrevCode:"AL"},{fullName:"Alaska",abbrevCode:"AK"},{fullName:"Arizona",abbrevCode:"AZ"},{fullName:"Arkansas",abbrevCode:"AR"},{fullName:"California",abbrevCode:"CA"},{fullName:"Colorado",abbrevCode:"CO"},{fullName:"Connecticut",abbrevCode:"CT"},{fullName:"Delaware",abbrevCode:"DE"},{fullName:"District of Columbia",abbrevCode:"DC"},{fullName:"Florida",abbrevCode:"FL"},{fullName:"Georgia",abbrevCode:"GA"},{fullName:"Hawaii",abbrevCode:"HI"},{fullName:"Idaho",abbrevCode:"ID"},{fullName:"Illinois",abbrevCode:"IL"},{fullName:"Indiana",abbrevCode:"IN"},{fullName:"Iowa",abbrevCode:"IA"},{fullName:"Kansas",abbrevCode:"KS"},{fullName:"Kentucky",abbrevCode:"KY"},{fullName:"Louisiana",abbrevCode:"LA"},{fullName:"Maine",abbrevCode:"ME"},{fullName:"Maryland",abbrevCode:"MD"},{fullName:"Massachusetts",abbrevCode:"MA"},{fullName:"Michigan",abbrevCode:"MI"},{fullName:"Minnesota",abbrevCode:"MN"},{fullName:"Mississippi",abbrevCode:"MS"},{fullName:"Missouri",abbrevCode:"MO"},{fullName:"Montana",abbrevCode:"MT"},{fullName:"Nebraska",abbrevCode:"NE"},{fullName:"Nevada",abbrevCode:"NV"},{fullName:"New Hampshire",abbrevCode:"NH"},{fullName:"New Jersey",abbrevCode:"NJ"},{fullName:"New Mexico",abbrevCode:"NM"},{fullName:"New York",abbrevCode:"NY"},{fullName:"North Carolina",abbrevCode:"NC"},{fullName:"North Dakota",abbrevCode:"ND"},{fullName:"Ohio",abbrevCode:"OH"},{fullName:"Oklahoma",abbrevCode:"OK"},{fullName:"Oregon",abbrevCode:"OR"},{fullName:"Pennsylvania",abbrevCode:"PA"},{fullName:"Rhode Island",abbrevCode:"RI"},{fullName:"South Carolina",abbrevCode:"SC"},{fullName:"South Dakota",abbrevCode:"SD"},{fullName:"Tennessee",abbrevCode:"TN"},{fullName:"Texas",abbrevCode:"TX"},{fullName:"Utah",abbrevCode:"UT"},{fullName:"Vermont",abbrevCode:"VT"},{fullName:"Virginia",abbrevCode:"VA"},{fullName:"Washington",abbrevCode:"WA"},{fullName:"West Virginia",abbrevCode:"WV"},{fullName:"Wisconsin",abbrevCode:"WI"},{fullName:"Wyoming",abbrevCode:"WY"}],h={Toyota:["4Runner","Avalon","Avanza","Aygo","Camry","Carina","Celica","Corolla","Cressida","Crown","Fortuner","HiAce","Highlander","Hilux","Innova","Land Cruiser","Matrix","Mirai","Prado","Previa","Prius","RAV4","Sequoia","Sienna","Starlet","Supra","Tacoma","Tercel","Tundra","Urban Cruiser","Venza","Yaris"],Lexus:["CT","ES","GS","GX","HS","IS","LC","LFA","LS","LX","NX","RC","RX","UX"],Honda:["Accord","Airwave","Brio","City","Civic","CR-V","CR-Z","Element","Fit","HR-V","Insight","Jazz","Legend","Odyssey","Passport","Pilot","Prelude","Ridgeline","Stream"],Acura:["CL","ILX","Integra","MDX","NSX","RDX","RL","RSX","TL","TSX"],MercedesBenz:["A-Class","B-Class","C-Class","CLA","CLS","E-Class","EQB","EQC","EQS","G-Class","GLA","GLB","GLC","GLE","GLS","S-Class","SL","SLC","V-Class"],BMW:["1 Series","2 Series","3 Series","4 Series","5 Series","6 Series","7 Series","8 Series","i3","i4","i7","i8","iX","X1","X2","X3","X4","X5","X6","X7","Z3","Z4"],Audi:["A1","A3","A4","A5","A6","A7","A8","Q2","Q3","Q5","Q7","Q8","RS3","RS5","RS7","S3","S4","S6","TT","e-tron"],Volkswagen:["Amarok","Arteon","Atlas","Beetle","Bora","Caddy","Golf","Jetta","Passat","Polo","Scirocco","Sharan","T-Cross","Tiguan","Touareg","Transporter","Vento"],Ford:["Bronco","C-Max","Courier","EcoSport","Edge","Escape","Explorer","F-150","Fiesta","Flex","Focus","Fusion","Galaxy","Mustang","Ranger","Taurus","Transit"],Chevrolet:["Astro","Aveo","Blazer","Camaro","Captiva","Cavalier","Colorado","Corvette","Cruze","Equinox","Impala","Malibu","Niva","Onix","Silverado","Spark","Suburban","Tahoe","Trailblazer"],Nissan:["Altima","Almera","Armada","Bluebird","Cube","Frontier","GT-R","Juke","Kicks","Maxima","Micra","Murano","Navara","Note","Pathfinder","Patrol","Qashqai","Rogue","Sentra","Skyline","Sunny","Terra","Titan","Versa","X-Trail"],Hyundai:["Accent","Atos","Avante","Creta","Elantra","Genesis","Getz","Grand i10","Ioniq","Kona","Palisade","Santa Fe","Sonata","Tucson","Venue","Verna"],Kia:["Cadenza","Carnival","Cerato","Forte","K5","K9","Morning","Niro","Optima","Picanto","Rio","Seltos","Sorento","Soul","Sportage","Stinger","Telluride"],Peugeot:["106","107","206","207","208","301","307","308","406","407","408","508","2008","3008","5008","Partner"],Renault:["Arkana","Captur","Clio","Duster","Fluence","Kadjar","Koleos","Laguna","Logan","Megane","Sandero","Symbol","Talisman","Trafic","Zoe"],Mazda:["2","3","5","6","CX-3","CX-30","CX-5","CX-9","MX-5","RX-7","RX-8"],Subaru:["Ascent","BRZ","Crosstrek","Forester","Impreza","Legacy","Outback","WRX","XV"],Tesla:["Model S","Model 3","Model X","Model Y","Cybertruck","Roadster"],LandRover:["Defender","Discovery","Discovery Sport","Evoque","Freelander","Range Rover","Range Rover Sport","Velar"],Jeep:["Avenger","Cherokee","Compass","Gladiator","Grand Cherokee","Renegade","Wrangler"],Porsche:["911","718 Boxster","718 Cayman","Cayenne","Macan","Panamera","Taycan"],Volvo:["C30","C40","S40","S60","S90","V40","V60","V90","XC40","XC60","XC90"]},v=["CAR","SUV","TRUCK","VAN","SEDAN","COUPE","HATCHBACK","WAGON","CONVERTIBLE","MOTORCYCLE"],p=[{label:"Under $10,000",min:1,max:1e4},{label:"$10,000 - $20,000",min:1e4,max:2e4},{label:"$20,000 - $30,000",min:2e4,max:3e4},{label:"$30,000 - $50,000",min:3e4,max:5e4},{label:"Over $50,000",min:5e4,max:999999}],f=[{label:"2024-2025",min:2024,max:2025},{label:"2020 - 2023",min:2020,max:2023},{label:"2017 - 2019",min:2017,max:2019},{label:"2014 - 2016",min:2014,max:2016},{label:"Before 2014",min:1990,max:2013}];function N(e){var a,r;let{filters:t,onFilterChange:i,onClearFilters:n}=e,[o,d]=(0,s.useState)(!1),[c,m]=(0,s.useState)((null===(a=t.mileageMax)||void 0===a?void 0:a.toString())||""),[N,y]=(0,s.useState)((null===(r=t.mileageMax)||void 0===r?void 0:r.toString())||""),C=t.make&&h[t.make]?h[t.make]:[];(0,s.useEffect)(()=>{var e;let a=(null===(e=t.mileageMax)||void 0===e?void 0:e.toString())||"";a!==c&&(m(a),y(a))},[t.mileageMax]),(0,s.useEffect)(()=>{let e=setTimeout(()=>{y(c)},500);return()=>clearTimeout(e)},[c]),(0,s.useEffect)(()=>{let e=N?parseInt(N):void 0;void 0!==e&&isNaN(e)||e===t.mileageMax||i({...t,mileageMax:e})},[N]);let j=e=>{i({...t,make:e||void 0})},w=e=>{i({...t,vehicleType:["CAR","SUV","TRUCK","VAN","SEDAN","COUPE","HATCHBACK","WAGON","CONVERTIBLE","MOTORCYCLE"].includes(e)?e:void 0})},S=e=>{if(-1===e)i({...t,priceMin:void 0,priceMax:void 0});else{let a=p[e];i({...t,priceMin:a.min,priceMax:a.max})}},A=e=>{if(-1===e)i({...t,yearMin:void 0,yearMax:void 0});else{let a=f[e];i({...t,yearMin:a.min,yearMax:a.max})}},k=e=>{i({...t,state:e||void 0})},M=e=>{i({...t,model:e||void 0})},T=()=>{m(""),y(""),n?n():i({page:t.page,limit:t.limit,includeApi:t.includeApi,status:t.status})},L=[t.make,t.vehicleType,t.model,t.priceMin,t.priceMax,t.yearMin,t.yearMax,t.state,t.search].filter(e=>void 0!==e).length,R=()=>(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Make"}),(0,l.jsxs)("select",{value:t.make||"",onChange:e=>j(e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-emerald-500 focus:border-transparent",children:[(0,l.jsx)("option",{value:"",children:"All Makes"}),b.yG.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]})]}),t.make&&C.length>0&&(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Model"}),(0,l.jsxs)("select",{value:t.model||"",onChange:e=>M(e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-emerald-500 focus:border-transparent",children:[(0,l.jsx)("option",{value:"",children:"All Models"}),C.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Type"}),(0,l.jsxs)("select",{value:t.vehicleType||"",onChange:e=>w(e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-emerald-500 focus:border-transparent",children:[(0,l.jsx)("option",{value:"",children:"All Types"}),v.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price Range (USD)"}),(0,l.jsxs)("select",{value:void 0!==t.priceMin?p.findIndex(e=>e.min===t.priceMin&&e.max===t.priceMax):-1,onChange:e=>S(parseInt(e.target.value)),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-emerald-500 focus:border-transparent",children:[(0,l.jsx)("option",{value:-1,children:"All Prices"}),p.map((e,a)=>(0,l.jsx)("option",{value:a,children:e.label},a))]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year"}),(0,l.jsxs)("select",{value:void 0!==t.yearMin?f.findIndex(e=>e.min===t.yearMin&&e.max===t.yearMax):-1,onChange:e=>A(parseInt(e.target.value)),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-emerald-500 focus:border-transparent",children:[(0,l.jsx)("option",{value:-1,children:"All Years"}),f.map((e,a)=>(0,l.jsx)("option",{value:a,children:e.label},a))]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location (US State)"}),(0,l.jsxs)("select",{value:t.state||"",onChange:e=>k(e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-emerald-500 focus:border-transparent",children:[(0,l.jsx)("option",{value:"",children:"All States"}),g.map(e=>(0,l.jsx)("option",{value:e.abbrevCode,children:e.fullName},e.abbrevCode))]})]}),L>0&&(0,l.jsxs)("button",{onClick:T,className:"w-full text-sm text-red-600 hover:text-red-700 font-medium py-2 px-4 border border-red-200 rounded-lg hover:bg-red-50 transition-colors",children:["Clear All Filters (",L,")"]})]});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"hidden lg:block",children:(0,l.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Filters"}),(0,l.jsx)(R,{})]})}),(0,l.jsxs)("div",{className:"lg:hidden",children:[(0,l.jsxs)("button",{onClick:()=>d(!0),className:"flex items-center gap-2 bg-white px-4 py-2 rounded-lg border border-gray-200 text-gray-700",children:[(0,l.jsx)(u.Z,{className:"w-5 h-5"}),(0,l.jsx)("span",{children:"Filters"}),L>0&&(0,l.jsx)("span",{className:"bg-emerald-600 text-white text-xs px-2 py-0.5 rounded-full",children:L})]}),o&&(0,l.jsx)("div",{className:"fixed inset-0 z-50 bg-black/50",children:(0,l.jsxs)("div",{className:"absolute right-0 top-0 bottom-0 w-full max-w-sm bg-white overflow-y-auto",children:[(0,l.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold",children:"Filters"}),(0,l.jsx)("button",{onClick:()=>d(!1),className:"p-2 text-gray-500 hover:text-gray-700",children:(0,l.jsx)(x.Z,{className:"w-5 h-5"})})]}),(0,l.jsx)("div",{className:"p-4",children:(0,l.jsx)(R,{})}),(0,l.jsx)("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 p-4",children:(0,l.jsx)("button",{onClick:()=>d(!1),className:"w-full bg-emerald-600 text-white py-3 rounded-lg font-medium",children:"Apply Filters"})})]})})]})]})}var y=r(7648),C=r(7662),j=r(476),w=r(7928),S=r(3774);function A(e){var a,r,s,t;let{vehicle:i}=e,n=(null===(r=i.images)||void 0===r?void 0:null===(a=r.find(e=>e.is_primary))||void 0===a?void 0:a.url)||(null===(t=i.images)||void 0===t?void 0:null===(s=t[0])||void 0===s?void 0:s.url);return(0,l.jsxs)(y.default,{href:"/marketplace/".concat(i.id),className:"group bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-all duration-200",children:[(0,l.jsxs)("div",{className:"aspect-[16/10] bg-gray-100 overflow-hidden relative",children:[n?(0,l.jsx)("img",{src:n,alt:i.title||"".concat(i.year," ").concat(i.make," ").concat(i.model),className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):(0,l.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,l.jsx)(C.Z,{className:"w-12 h-12 text-gray-300"})}),(0,l.jsx)("div",{className:"absolute top-3 left-3",children:(0,l.jsx)("span",{className:"bg-emerald-600 text-white text-xs font-medium px-2.5 py-1 rounded-full",children:"Marketplace"})})]}),(0,l.jsxs)("div",{className:"p-4",children:[(0,l.jsx)("h3",{className:"font-semibold text-gray-900 mb-1 group-hover:text-emerald-600 transition-colors line-clamp-1",children:i.title||"".concat(i.year," ").concat(i.make," ").concat(i.model)}),(0,l.jsxs)("p",{className:"text-sm text-gray-500 mb-3",children:[i.year," ",i.make," ",i.model]}),(0,l.jsxs)("div",{className:"flex items-center gap-3 text-xs text-gray-500 mb-3",children:[i.mileage>0&&(0,l.jsxs)("span",{className:"flex items-center gap-1",children:[(0,l.jsx)(j.Z,{className:"w-3.5 h-3.5"}),i.mileage.toLocaleString()," mi"]}),(0,l.jsxs)("span",{className:"flex items-center gap-1",children:[(0,l.jsx)(w.Z,{className:"w-3.5 h-3.5"}),i.fuel_type]}),(i.location_city||i.location_state)&&(0,l.jsxs)("span",{className:"flex items-center gap-1",children:[(0,l.jsx)(S.Z,{className:"w-3.5 h-3.5"}),i.location_state||i.location_city]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[(0,l.jsxs)("span",{className:"text-lg font-bold text-emerald-600",children:["$",Number(i.price_usd).toLocaleString()]}),(0,l.jsx)("span",{className:"text-xs text-gray-400",children:i.transmission})]})]})]})}var k=r(1e3),M=r(862);function T(){let{data:e}=(0,M.eV)(),[a,r]=(0,s.useState)({page:1,limit:50,includeApi:!0,status:"AVAILABLE"}),[u,x]=(0,s.useState)("newest"),[b,g]=(0,s.useState)(""),[h,v]=(0,s.useState)("grid"),[p,f]=(0,s.useState)("");(0,s.useEffect)(()=>{let e=setTimeout(()=>{f(b)},500);return()=>clearTimeout(e)},[b]),(0,s.useEffect)(()=>{r(e=>({...e,search:p||void 0,sortBy:"newest"===u?"createdAt":"price_asc"===u||"price_desc"===u?"price":"year_desc"===u?"year":"mileage",sortOrder:"price_desc"===u||"year_desc"===u?"desc":"asc",page:1}))},[p,u]);let{vehicles:y,meta:C,isLoading:j,isError:w,error:S,refetch:T}=(0,k.$v)(a),L=e=>{r(a=>({...a,page:e})),window.scrollTo({top:0,behavior:"smooth"})};if(w)return(0,l.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,l.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow-lg max-w-md w-full",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 text-red-600 mb-4",children:[(0,l.jsx)(t.Z,{className:"w-6 h-6"}),(0,l.jsx)("h2",{className:"text-xl font-semibold",children:"Error Loading Vehicles"})]}),(0,l.jsx)("p",{className:"text-gray-600 mb-6",children:(null==S?void 0:S.message)||"Something went wrong"}),(0,l.jsx)("button",{onClick:()=>T(),className:"w-full bg-emerald-600 text-white py-3 rounded-lg hover:bg-emerald-700 transition-colors",children:"Try Again"})]})});let R=y.length,E=(null==C?void 0:C.total)&&C.total>0?C.total:(null==y?void 0:y.length)||(null==C?void 0:C.fromApi)||0;return(0,l.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,l.jsx)("div",{className:"bg-gradient-to-r from-gray-900 to-emerald-900 py-12",children:(0,l.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,l.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Browse Vehicles"}),(0,l.jsxs)("p",{className:"text-lg text-gray-300 mb-6",children:[j?"Loading vehicles...":"".concat(E," verified vehicles available for import to Nigeria"),(null==C?void 0:C.fromApi)!==void 0&&C.fromApi>0&&" (".concat(C.fromApi," from live listings)")]}),(0,l.jsxs)("div",{className:"relative max-w-2xl",children:[(0,l.jsx)(i.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,l.jsx)("input",{type:"text",placeholder:"Search by model, or VIN(e.g Chevelle, 10ARJYBS7RC154562, etc)",value:b,onChange:e=>g(e.target.value),className:"w-full pl-12 pr-4 py-4 rounded-xl border-0 focus:ring-2 focus:ring-emerald-500 text-lg"})]})]})}),e&&e.length>0&&(0,l.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-8",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,l.jsx)(n.Z,{className:"w-5 h-5 text-emerald-600"}),(0,l.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Marketplace Listings"}),(0,l.jsx)("span",{className:"bg-emerald-100 text-emerald-700 text-xs font-medium px-2 py-0.5 rounded-full",children:e.length})]}),(0,l.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 mb-8",children:e.map(e=>(0,l.jsx)(A,{vehicle:e},e.id))})]}),(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,l.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[(0,l.jsx)("div",{className:"lg:w-64 flex-shrink-0",children:(0,l.jsx)(N,{filters:a,onFilterChange:e=>{r(a=>({...a,...e,page:1}))},onClearFilters:()=>{g(""),x("newest"),r({page:1,limit:50,includeApi:!0,status:"AVAILABLE"})}})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6 flex-wrap gap-4",children:[(0,l.jsx)("p",{className:"text-gray-600",children:j?"Loading vehicles...":0===E?"No vehicles found":(0,l.jsxs)(l.Fragment,{children:["Showing"," ",(0,l.jsx)("span",{className:"font-semibold",children:y.length>0?"".concat(R):"0"})," ","of"," ",(0,l.jsx)("span",{className:"font-semibold",children:E.toLocaleString()})," ","vehicles"]})}),(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsxs)("div",{className:"hidden sm:flex items-center gap-2 bg-white rounded-lg p-1 border border-gray-200",children:[(0,l.jsx)("button",{onClick:()=>v("grid"),className:"p-2 rounded transition-colors ".concat("grid"===h?"bg-emerald-100 text-emerald-600":"text-gray-400 hover:text-gray-600"),"aria-label":"Grid view",children:(0,l.jsx)(o.Z,{className:"w-5 h-5"})}),(0,l.jsx)("button",{onClick:()=>v("list"),className:"p-2 rounded transition-colors ".concat("list"===h?"bg-emerald-100 text-emerald-600":"text-gray-400 hover:text-gray-600"),"aria-label":"List view",children:(0,l.jsx)(d.Z,{className:"w-5 h-5"})})]}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)("select",{value:u,onChange:e=>x(e.target.value),className:"appearance-none bg-white border border-gray-200 rounded-lg px-4 py-2 pr-10 focus:ring-2 focus:ring-emerald-500 focus:border-transparent cursor-pointer",children:[(0,l.jsx)("option",{value:"newest",children:"Newest First"}),(0,l.jsx)("option",{value:"price_asc",children:"Price: Low to High"}),(0,l.jsx)("option",{value:"price_desc",children:"Price: High to Low"}),(0,l.jsx)("option",{value:"year_desc",children:"Year: Newest"})]}),(0,l.jsx)(c.Z,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]})]})]}),j&&(0,l.jsx)("div",{className:"flex justify-center items-center py-20",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"w-16 h-16 border-4 border-emerald-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Loading vehicles..."})]})}),!j&&0===y.length&&(0,l.jsxs)("div",{className:"bg-white rounded-xl p-12 text-center",children:[(0,l.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,l.jsx)(i.Z,{className:"w-8 h-8 text-gray-400"})}),(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No vehicles found"}),(0,l.jsx)("p",{className:"text-gray-600 mb-4",children:"Try adjusting your search or filters to find what you're looking for."}),(0,l.jsx)("button",{onClick:()=>{g(""),x("newest"),r({page:1,limit:50,includeApi:!0,status:"AVAILABLE"})},className:"px-6 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors",children:"Clear All Filters"})]}),!j&&y.length>0&&(0,l.jsx)("div",{className:"grid"===h?"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6":"space-y-4",children:y.map(e=>(0,l.jsx)(m.U,{vehicle:e,viewMode:h},e.id))}),C&&C.pages>1&&(0,l.jsxs)("div",{className:"mt-10 flex flex-col items-center gap-4",children:[(0,l.jsxs)("div",{className:"text-sm text-gray-500",children:["Page ",a.page," of ",C.pages]}),(0,l.jsxs)("div",{className:"flex justify-center items-center gap-2 flex-wrap",children:[(0,l.jsx)("button",{onClick:()=>L(a.page-1),disabled:1===a.page,className:"px-4 py-2 bg-white border border-gray-200 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),(()=>{let e=a.page||1,r=C.pages,s=Math.max(1,e-2);return Array.from({length:Math.min(r,e+2)-s+1},(e,r)=>{let t=s+r;return(0,l.jsx)("button",{onClick:()=>L(t),className:"px-4 py-2 rounded-lg ".concat(a.page===t?"bg-emerald-600 text-white":"bg-white border border-gray-200 hover:bg-gray-50"),children:t},t)})})(),(0,l.jsx)("button",{onClick:()=>L(a.page+1),disabled:a.page===C.pages,className:"px-4 py-2 bg-white border border-gray-200 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]})]})})]})}function L(){return(0,l.jsx)(T,{})}},862:function(e,a,r){"use strict";r.d(a,{CX:function(){return g},Iy:function(){return x},ZP:function(){return d},dW:function(){return b},eV:function(){return o},hr:function(){return c},p3:function(){return h},r_:function(){return m},vP:function(){return u}});var l=r(1713),s=r(9827),t=r(1770),i=r(4191);async function n(e,a){let r=await fetch(e,{...a,headers:{...function(){let{accessToken:e}=i.tN.getState();return{"Content-Type":"application/json",...e?{Authorization:"Bearer ".concat(e)}:{}}}(),...null==a?void 0:a.headers}});if(!r.ok)throw Error((await r.json().catch(()=>({error:"Request failed"}))).error||"HTTP ".concat(r.status));return r.json()}function o(e,a){let r=new URLSearchParams;return e&&r.set("scope",e),a&&r.set("status",a),(0,l.a)({queryKey:["marketplace-vehicles",e,a],queryFn:()=>n("/api/marketplace/vehicles?".concat(r))})}function d(e){return(0,l.a)({queryKey:["marketplace-vehicle",e],queryFn:()=>n("/api/marketplace/vehicles/".concat(e)),enabled:!!e})}function c(){let e=(0,s.NL)();return(0,t.D)({mutationFn:e=>n("/api/marketplace/vehicles",{method:"POST",body:JSON.stringify(e)}),onSuccess:()=>{e.invalidateQueries({queryKey:["marketplace-vehicles"]})}})}function m(){let e=(0,s.NL)();return(0,t.D)({mutationFn:e=>{let{id:a,data:r}=e;return n("/api/marketplace/vehicles/".concat(a),{method:"PUT",body:JSON.stringify(r)})},onSuccess:(a,r)=>{let{id:l}=r;e.invalidateQueries({queryKey:["marketplace-vehicles"]}),e.invalidateQueries({queryKey:["marketplace-vehicle",l]})}})}function u(){let e=(0,s.NL)();return(0,t.D)({mutationFn:e=>n("/api/marketplace/vehicles/".concat(e),{method:"DELETE"}),onSuccess:()=>{e.invalidateQueries({queryKey:["marketplace-vehicles"]})}})}function x(){let e=(0,s.NL)();return(0,t.D)({mutationFn:e=>n("/api/marketplace/vehicles/".concat(e,"/submit"),{method:"POST"}),onSuccess:()=>{e.invalidateQueries({queryKey:["marketplace-vehicles"]})}})}function b(){let e=(0,s.NL)();return(0,t.D)({mutationFn:e=>n("/api/marketplace/requests",{method:"POST",body:JSON.stringify(e)}),onSuccess:()=>{e.invalidateQueries({queryKey:["vehicle-requests"]})}})}function g(){return(0,l.a)({queryKey:["notifications","unread"],queryFn:()=>n("/api/marketplace/notifications?unread=true"),refetchInterval:15e3})}function h(){let e=(0,s.NL)();return(0,t.D)({mutationFn:e=>n("/api/marketplace/notifications/".concat(e,"/read"),{method:"POST"}),onSuccess:()=>{e.invalidateQueries({queryKey:["notifications"]})}})}}},function(e){e.O(0,[753,451,464,618,850,971,117,744],function(){return e(e.s=3725)}),_N_E=e.O()}]);