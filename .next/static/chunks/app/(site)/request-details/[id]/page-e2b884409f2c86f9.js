(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[567],{2445:function(e,t,s){Promise.resolve().then(s.bind(s,5365))},2252:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},2660:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},1047:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},5302:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},1723:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},8226:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},8736:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},3774:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},4794:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},8906:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},5738:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Ship",[["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1 .6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"iegodh"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-9-4-9 4c0 2.9.94 5.34 2.81 7.76",key:"fp8vka"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M12 10v4",key:"1kjpxc"}],["path",{d:"M12 2v3",key:"qbqxhf"}]])},340:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]])},5365:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return S}});var r=s(7437),a=s(7975),n=s(2265),i=s(7648),l=s(9376),o=s(1723),d=s(8736),c=s(8226),u=s(5302),m=s(2252),h=s(4794),x=s(5738),p=s(3774),y=s(340),g=s(2660),f=s(1047);let b=(0,s(9763).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var v=s(8906),N=s(8135),j=s(6614),w=s(5155),k=s(257);let C={PENDING_QUOTE:{label:"Pending Quote",color:"bg-yellow-100 text-yellow-700 border-yellow-200",icon:o.Z,description:"Our team is preparing your detailed quote"},QUOTE_SENT:{label:"Quote Sent",color:"bg-blue-100 text-blue-700 border-blue-200",icon:d.Z,description:"Quote has been sent. Please review and approve"},DEPOSIT_PENDING:{label:"Payment Pending",color:"bg-orange-100 text-orange-700 border-orange-200",icon:c.Z,description:"Waiting for payment"},DEPOSIT_PAID:{label:"Payment Received",color:"bg-green-100 text-green-700 border-green-200",icon:u.Z,description:"Payment received. Processing your order"},INSPECTION_PENDING:{label:"Inspection Pending",color:"bg-yellow-100 text-yellow-700 border-yellow-200",icon:d.Z,description:"Vehicle inspection in progress"},INSPECTION_COMPLETE:{label:"Inspection Complete",color:"bg-blue-100 text-blue-700 border-blue-200",icon:u.Z,description:"Inspection report ready for review"},AWAITING_APPROVAL:{label:"Awaiting Approval",color:"bg-orange-100 text-orange-700 border-orange-200",icon:m.Z,description:"Please review and approve the inspection report"},APPROVED:{label:"Approved",color:"bg-green-100 text-green-700 border-green-200",icon:u.Z,description:"Order approved. Proceeding with purchase"},PURCHASE_IN_PROGRESS:{label:"Purchasing",color:"bg-blue-100 text-blue-700 border-blue-200",icon:h.Z,description:"Purchasing your vehicle from dealer"},PURCHASED:{label:"Purchased",color:"bg-green-100 text-green-700 border-green-200",icon:u.Z,description:"Vehicle purchased successfully"},SHIPPED:{label:"Shipped",color:"bg-blue-100 text-blue-700 border-blue-200",icon:x.Z,description:"Vehicle has been shipped"},IN_TRANSIT:{label:"In Transit",color:"bg-blue-100 text-blue-700 border-blue-200",icon:x.Z,description:"Vehicle is on the way"},ARRIVED_PORT:{label:"Arrived at Port",color:"bg-green-100 text-green-700 border-green-200",icon:p.Z,description:"Vehicle has arrived at destination port"},CUSTOMS_CLEARANCE:{label:"Customs Clearance",color:"bg-yellow-100 text-yellow-700 border-yellow-200",icon:d.Z,description:"Clearing customs formalities"},CLEARED:{label:"Cleared",color:"bg-green-100 text-green-700 border-green-200",icon:u.Z,description:"Customs clearance complete"},DELIVERY_SCHEDULED:{label:"Delivery Scheduled",color:"bg-blue-100 text-blue-700 border-blue-200",icon:y.Z,description:"Delivery date has been scheduled"},DELIVERED:{label:"Delivered",color:"bg-emerald-100 text-emerald-700 border-emerald-200",icon:u.Z,description:"Vehicle successfully delivered"},CANCELLED:{label:"Cancelled",color:"bg-red-100 text-red-700 border-red-200",icon:m.Z,description:"Order has been cancelled"}},_=["BALANCE_PAID","DELIVERED","CANCELLED"];function P(){var e,t,s,a,h,y,w,k,P,S,E,D,T,I,Z,L,O,R,M,F,U,q,B,H,G,z,V,Q,K,W,J,Y,X;let{id:$}=(0,l.useParams)(),ee=(0,l.useRouter)(),[et,es]=(0,n.useState)(!1),{order:er,isLoading:ea,isError:en,refetch:ei}=(0,j.gz)(null!=$?$:"");if(ea)return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 border-4 border-emerald-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Loading order details..."})]})});if(!er)return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow-sm max-w-md text-center",children:[(0,r.jsx)(m.Z,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Order Not Found"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:"We couldn't find the order you're looking for."}),(0,r.jsx)("button",{onClick:()=>ee.push("/dashboard"),className:"bg-emerald-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-emerald-700",children:"Back to Dashboard"})]})});if(en)return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow-sm max-w-md text-center",children:[(0,r.jsx)(m.Z,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Error Loading Order"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:"There was an error fetching your order details. Please try again."}),(0,r.jsx)("button",{onClick:()=>ei(),className:"bg-emerald-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-emerald-700",children:"Retry"})]})});let el=C[er.status],eo=(null==el?void 0:el.icon)||o.Z,ed=function(e){let t=e.vehicleSnapshot,s=e.vehicle;return(null==t?void 0:t.year)&&(null==t?void 0:t.make)&&(null==t?void 0:t.model)?"".concat(t.year," ").concat(t.make," ").concat(t.model):(null==s?void 0:s.year)&&(null==s?void 0:s.make)&&(null==s?void 0:s.model)?"".concat(s.year," ").concat(s.make," ").concat(s.model):e.requestNumber||"Order #".concat(e.id)}(er),ec=(null===(V=(B=er).vehicleSnapshot)||void 0===V?void 0:null===(z=V.apiData)||void 0===z?void 0:null===(G=z.listing)||void 0===G?void 0:null===(H=G.retailListing)||void 0===H?void 0:H.primaryImage)||(null===(J=B.vehicleSnapshot)||void 0===J?void 0:null===(W=J.apiData)||void 0===W?void 0:null===(K=W.listing)||void 0===K?void 0:null===(Q=K.wholesaleListing)||void 0===Q?void 0:Q.primaryImage)||((null===(Y=B.vehicleSnapshot)||void 0===Y?void 0:Y.images)&&B.vehicleSnapshot.images.length>0?B.vehicleSnapshot.images[0]:(null===(X=B.vehicle)||void 0===X?void 0:X.images)&&B.vehicle.images.length>0?B.vehicle.images[0]:"https://images.pexels.com/photos/170811/pexels-photo-170811.jpeg?auto=compress&cs=tinysrgb&w=800"),eu=null!==(R=null!==(O=null!==(L=null===(e=er.paymentBreakdown)||void 0===e?void 0:e.totalUsd)&&void 0!==L?L:er.totalLandedCostUsd)&&void 0!==O?O:er.quotedPriceUsd)&&void 0!==R?R:0,em=null!==(F=null!==(M=er.depositAmountUsd)&&void 0!==M?M:null===(t=er.paymentBreakdown)||void 0===t?void 0:t.totalUsedDeposit)&&void 0!==F?F:0,eh=null!==(U=null===(s=er.payments)||void 0===s?void 0:s.reduce((e,t)=>{var s,r,a;return(null===(s=t.status)||void 0===s?void 0:s.toUpperCase())==="COMPLETED"?e+(null!==(a=null!==(r=t.amountUsd)&&void 0!==r?r:t.amount_usd)&&void 0!==a?a:0):e},0))&&void 0!==U?U:0,ex=Math.max(eu-eh,0),ep="DEPOSIT_PAID"===er.status||_.includes(er.status),ey=!_.includes(er.status)&&ex>0;return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,r.jsxs)("button",{onClick:()=>ee.push("/dashboard"),className:"flex items-center gap-2 text-gray-600 hover:text-emerald-600 transition-colors",children:[(0,r.jsx)(g.Z,{className:"w-5 h-5"}),"Back to Dashboard"]})})}),(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsx)("div",{className:"rounded-xl border-2 p-6 mb-6 ".concat((null==el?void 0:el.color)||"bg-gray-100 text-gray-700 border-gray-200"),children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"p-3 bg-white rounded-lg",children:(0,r.jsx)(eo,{className:"w-8 h-8"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-1",children:(null==el?void 0:el.label)||er.status}),(0,r.jsx)("p",{className:"text-sm opacity-90",children:null==el?void 0:el.description})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("p",{className:"text-sm font-medium opacity-75",children:"Order Number"}),(0,r.jsx)("p",{className:"text-xl font-bold",children:er.requestNumber})]})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[(0,r.jsx)("div",{className:"p-6 border-b border-gray-100",children:(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Vehicle Information"})}),(0,r.jsx)("div",{className:"p-6",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-6",children:[(0,r.jsx)("img",{src:ec,alt:ed,className:"w-full md:w-64 h-48 object-cover rounded-lg"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h4",{className:"text-2xl font-bold text-gray-900 mb-2",children:ed}),(null===(a=er.vehicleSnapshot)||void 0===a?void 0:a.vin)&&(0,r.jsxs)("p",{className:"text-sm text-gray-500 mb-4",children:["VIN: ",er.vehicleSnapshot.vin]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(null===(h=er.vehicleSnapshot)||void 0===h?void 0:h.vehicleType)&&(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-gray-500",children:"Type"}),(0,r.jsx)("p",{className:"font-semibold text-gray-900",children:er.vehicleSnapshot.vehicleType})]}),(null===(y=er.vehicleSnapshot)||void 0===y?void 0:y.transmission)&&(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-gray-500",children:"Transmission"}),(0,r.jsx)("p",{className:"font-semibold text-gray-900",children:er.vehicleSnapshot.transmission})]}),(null===(w=er.vehicleSnapshot)||void 0===w?void 0:w.fuelType)&&(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-gray-500",children:"Fuel Type"}),(0,r.jsx)("p",{className:"font-semibold text-gray-900",children:er.vehicleSnapshot.fuelType})]}),(null===(E=er.vehicleSnapshot)||void 0===E?void 0:null===(S=E.apiData)||void 0===S?void 0:null===(P=S.listing)||void 0===P?void 0:null===(k=P.retailListing)||void 0===k?void 0:k.miles)&&(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-gray-500",children:"Mileage"}),(0,r.jsxs)("p",{className:"font-semibold text-gray-900",children:[er.vehicleSnapshot.apiData.listing.retailListing.miles.toLocaleString()," mi"]})]})]}),(null===(D=er.vehicleSnapshot)||void 0===D?void 0:D.dealerName)&&(0,r.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"Dealer"}),(0,r.jsx)("p",{className:"font-medium text-gray-900",children:er.vehicleSnapshot.dealerName}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:[er.vehicleSnapshot.dealerCity,", ",er.vehicleSnapshot.dealerState]})]})]})]})})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[(0,r.jsx)("div",{className:"p-6 border-b border-gray-100",children:(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Shipping & Delivery"})}),(0,r.jsxs)("div",{className:"p-6 space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-lg",children:[(0,r.jsx)(x.Z,{className:"w-6 h-6 text-emerald-600 mt-1"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"font-semibold text-gray-900",children:"Shipping Method"}),(0,r.jsx)("p",{className:"text-gray-600",children:er.shippingMethod||"Not specified"})]})]}),(0,r.jsxs)("div",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-lg",children:[(0,r.jsx)(p.Z,{className:"w-6 h-6 text-emerald-600 mt-1"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"font-semibold text-gray-900",children:"Delivery Address"}),(0,r.jsx)("p",{className:"text-gray-600",children:er.destinationAddress}),(0,r.jsxs)("p",{className:"text-gray-600",children:[er.destinationCity,", ",er.destinationState]}),(0,r.jsx)("p",{className:"text-gray-600",children:er.destinationCountry})]})]}),er.estimatedDeliveryDate&&(0,r.jsxs)("div",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-lg",children:[(0,r.jsx)(f.Z,{className:"w-6 h-6 text-emerald-600 mt-1"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"font-semibold text-gray-900",children:"Estimated Delivery"}),(0,r.jsx)("p",{className:"text-gray-600",children:(0,N.p6)(er.estimatedDeliveryDate)})]})]}),er.deliveryInstructions&&(0,r.jsxs)("div",{className:"pt-4 border-t border-gray-100",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Delivery Instructions"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:er.deliveryInstructions})]}),er.customerNotes&&(0,r.jsxs)("div",{className:"pt-4 border-t border-gray-100",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Your Notes"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:er.customerNotes})]})]})]}),er.payments&&er.payments.length>0&&(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[(0,r.jsx)("div",{className:"p-6 border-b border-gray-100",children:(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Payment History"})}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Date"}),(0,r.jsx)("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Type"}),(0,r.jsx)("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Amount"}),(0,r.jsx)("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Status"}),(0,r.jsx)("th",{className:"text-left px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Reference"})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-gray-100",children:er.payments.map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:(0,N.p6)(e.createdAt||e.created_at)}),(0,r.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900 capitalize",children:e.paymentType||e.payment_type}),(0,r.jsx)("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:(0,N.xG)(e.amountUsd||e.amount_usd)}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("span",{className:"inline-flex px-2 py-1 rounded-full text-xs font-medium ".concat("completed"===e.status?"bg-green-100 text-green-700":"pending"===e.status?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"),children:e.status})}),(0,r.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500",children:e.reference||e.paymentReference||"-"})]},e.id))})]})})]})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Cost Summary"}),(null===(T=er.paymentBreakdown)||void 0===T?void 0:T.breakdown)?(0,r.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Vehicle Price"}),(0,r.jsx)("span",{className:"font-medium",children:(0,N.xG)(er.paymentBreakdown.breakdown.vehiclePriceUsd)})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Sourcing Fee"}),(0,r.jsx)("span",{className:"font-medium",children:(0,N.xG)(er.paymentBreakdown.breakdown.sourcingFee)})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Inspection"}),(0,r.jsx)("span",{className:"font-medium",children:(0,N.xG)(er.paymentBreakdown.breakdown.prePurchaseInspectionUsd)})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"US Handling Fee"}),(0,r.jsx)("span",{className:"font-medium",children:(0,N.xG)(er.paymentBreakdown.breakdown.usHandlingFeeUsd)})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Shipping"}),(0,r.jsx)("span",{className:"font-medium",children:(0,N.xG)(er.paymentBreakdown.breakdown.shippingCostUsd)})]})]}):(0,r.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Base Price"}),(0,r.jsx)("span",{className:"font-medium",children:(0,N.xG)((null===(I=er.vehicleSnapshot)||void 0===I?void 0:I.priceUsd)||0)})]}),er.quotedPriceUsd&&(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Quoted Price"}),(0,r.jsx)("span",{className:"font-medium",children:(0,N.xG)(er.quotedPriceUsd)})]})]}),(0,r.jsxs)("div",{className:"border-t border-gray-100 pt-3 mt-3",children:[(0,r.jsxs)("div",{className:"flex justify-between text-lg mb-2",children:[(0,r.jsx)("span",{className:"font-semibold text-gray-900",children:"Total Cost"}),(0,r.jsx)("span",{className:"font-bold text-gray-900",children:(0,N.xG)(null!==(q=null===(Z=er.paymentBreakdown)||void 0===Z?void 0:Z.totalUsd)&&void 0!==q?q:0)})]}),er.totalLandedCostLocal&&er.localCurrency&&(0,r.jsxs)("p",{className:"text-right text-sm text-gray-600",children:["≈ ",(0,N.xG)(er.totalLandedCostLocal,"USD"===er.localCurrency||"NGN"===er.localCurrency?er.localCurrency:void 0)]})]}),(0,r.jsxs)("div",{className:"mt-6 space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Paid"}),(0,r.jsx)("span",{className:"font-medium text-green-600",children:(0,N.xG)(eh)})]}),(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,r.jsx)("div",{className:"bg-green-600 h-2 rounded-full transition-all",style:{width:"".concat(Math.min(eh/eu*100,100),"%")}})})]}),ex>0&&(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Remaining"}),(0,r.jsx)("span",{className:"font-medium text-orange-600",children:(0,N.xG)(ex)})]})]}),0===eu&&"PENDING_QUOTE"===er.status&&(0,r.jsxs)("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,r.jsx)("p",{className:"text-sm text-blue-800 font-medium mb-1",children:"Quote Pending"}),(0,r.jsx)("p",{className:"text-xs text-blue-600",children:"Our team is preparing your detailed quote. Payment options will be available once the quote is ready."})]}),ey&&(0,r.jsx)("div",{className:"mt-6",children:(0,r.jsxs)("button",{onClick:()=>es(!0),className:"w-full bg-emerald-600 text-white py-3 rounded-lg font-medium hover:bg-emerald-700 transition-colors flex items-center justify-center gap-2",children:[(0,r.jsx)(c.Z,{className:"w-5 h-5"}),"Make Payment"]})}),_.includes(er.status)&&(0,r.jsxs)("div",{className:"mt-6 bg-green-50 border border-green-200 rounded-lg p-4 flex items-center gap-3",children:[(0,r.jsx)(u.Z,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),(0,r.jsx)("p",{className:"text-sm text-green-800 font-medium",children:"Payment complete"})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Timeline"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-emerald-100 rounded-full flex items-center justify-center flex-shrink-0",children:(0,r.jsx)(u.Z,{className:"w-4 h-4 text-emerald-600"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"font-medium text-gray-900",children:"Request Submitted"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:(0,N.p6)(er.createdAt)})]})]}),er.statusChangedAt&&(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:(0,r.jsx)(eo,{className:"w-4 h-4 text-blue-600"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"font-medium text-gray-900",children:null==el?void 0:el.label}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:(0,N.p6)(er.statusChangedAt)})]})]}),er.estimatedDeliveryDate&&(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center flex-shrink-0",children:(0,r.jsx)(f.Z,{className:"w-4 h-4 text-gray-600"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"font-medium text-gray-900",children:"Estimated Delivery"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:(0,N.p6)(er.estimatedDeliveryDate)})]})]})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Documents"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("button",{className:"w-full flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(d.Z,{className:"w-5 h-5 text-gray-400"}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Quote Document"})]}),(0,r.jsx)(b,{className:"w-4 h-4 text-gray-400"})]}),(0,r.jsxs)("button",{className:"w-full flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors opacity-50 cursor-not-allowed",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(d.Z,{className:"w-5 h-5 text-gray-400"}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Inspection Report"})]}),(0,r.jsx)("span",{className:"text-xs text-gray-500",children:"Not available"})]})]})]}),(0,r.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)(v.Z,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-semibold text-blue-900 mb-1",children:"Need Help?"}),(0,r.jsx)("p",{className:"text-sm text-blue-700 mb-3",children:"Our support team is here to assist you with your order."}),(0,r.jsx)(i.default,{href:"/contact",className:"text-sm font-medium text-blue-600 hover:text-blue-700 underline",children:"Contact Support"})]})]})})]})]})]}),et&&(0,r.jsx)(A,{orderId:er.id,depositAmount:em,totalCost:eu,remainingBalance:ex,depositAlreadyPaid:ep,onClose:()=>es(!1)})]})}function A(e){let{orderId:t,depositAmount:s,totalCost:a,remainingBalance:i,depositAlreadyPaid:l,onClose:o}=e,d=!l&&s>0,c=l&&i>0,[u,m]=(0,n.useState)(()=>d?"deposit":c?"balance":"full"),{mutateAsync:h,isPending:x}=(0,w.vr)(),p={deposit:{amount:s,paymentType:"DEPOSIT"},full:{amount:a,paymentType:"FULL_PAYMENT"},balance:{amount:i,paymentType:"FULL_PAYMENT"}}[u],y=async()=>{try{await h({orderId:t,paymentType:p.paymentType,provider:"paystack",callbackUrl:"".concat(k.env.NEXT_PUBLIC_PAY_CALLBACK_URL)})}catch(e){console.error("Payment initialization failed:",e)}};return(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-xl w-full max-w-md shadow-2xl flex flex-col",children:[(0,r.jsx)("div",{className:"p-6 border-b border-gray-100",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Make Payment"}),(0,r.jsx)("button",{onClick:o,className:"text-gray-400 hover:text-gray-600",disabled:x,children:"✕"})]})}),(0,r.jsxs)("div",{className:"p-6 space-y-3 flex-1",children:[d&&(0,r.jsx)("button",{onClick:()=>m("deposit"),disabled:x,className:"w-full p-4 border-2 rounded-lg text-left transition-all ".concat("deposit"===u?"border-emerald-500 bg-emerald-50":"border-gray-200 hover:border-gray-300"," ").concat(x?"opacity-50 cursor-not-allowed":""),children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-semibold text-gray-900",children:"Pay Deposit"}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-0.5",children:"Secure your order now, pay the rest later"})]}),(0,r.jsx)("p",{className:"text-lg font-bold text-emerald-600 whitespace-nowrap ml-4",children:(0,N.xG)(s)})]})}),!l&&a>0&&(0,r.jsx)("button",{onClick:()=>m("full"),disabled:x,className:"w-full p-4 border-2 rounded-lg text-left transition-all ".concat("full"===u?"border-emerald-500 bg-emerald-50":"border-gray-200 hover:border-gray-300"," ").concat(x?"opacity-50 cursor-not-allowed":""),children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-semibold text-gray-900",children:"Pay Full Amount"}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-0.5",children:"Complete the entire payment at once"})]}),(0,r.jsx)("p",{className:"text-lg font-bold text-emerald-600 whitespace-nowrap ml-4",children:(0,N.xG)(a)})]})}),c&&(0,r.jsx)("button",{onClick:()=>m("balance"),disabled:x,className:"w-full p-4 border-2 rounded-lg text-left transition-all border-emerald-500 bg-emerald-50 ".concat(x?"opacity-50 cursor-not-allowed":""),children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-semibold text-gray-900",children:"Pay Remaining Balance"}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-0.5",children:"Complete your outstanding balance"})]}),(0,r.jsx)("p",{className:"text-lg font-bold text-emerald-600 whitespace-nowrap ml-4",children:(0,N.xG)(i)})]})})]}),(0,r.jsx)("div",{className:"p-6 pt-0",children:(0,r.jsx)("button",{onClick:y,disabled:x||0===p.amount,className:"w-full px-4 py-3 bg-emerald-600 text-white rounded-lg font-medium hover:bg-emerald-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:x?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v.Z,{className:"w-5 h-5"}),"Pay ",(0,N.xG)(p.amount)]})})})]})})}function S(){return(0,r.jsx)(a.i,{children:(0,r.jsx)(P,{})})}},7975:function(e,t,s){"use strict";s.d(t,{i:function(){return l}});var r=s(7437),a=s(9376),n=s(4191),i=s(2265);function l(e){let{children:t,redirectTo:s="/login"}=e,l=(0,a.useRouter)(),{isAuthenticated:o,accessToken:d}=(0,n.tN)(),[c,u]=(0,i.useState)(n.tN.persist.hasHydrated());return((0,i.useEffect)(()=>n.tN.persist.onFinishHydration(()=>{u(!0)}),[]),(0,i.useEffect)(()=>{!c||o&&d||l.replace(s)},[c,o,d,l,s]),c&&o&&d)?(0,r.jsx)(r.Fragment,{children:t}):(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)("div",{className:"w-10 h-10 border-4 border-emerald-600 border-t-transparent rounded-full animate-spin"})})}},6614:function(e,t,s){"use strict";s.d(t,{gz:function(){return i},j4:function(){return l},nh:function(){return n}});var r=s(1713),a=s(8118);function n(){var e,t,s,n,i,l,o,d,c,u;let m=(0,r.a)({queryKey:["orders"],queryFn:()=>a.k.getAllOrder(),staleTime:3e5,refetchOnWindowFocus:!1});return{orders:null!==(l=null===(e=m.data)||void 0===e?void 0:e.orders)&&void 0!==l?l:[],total:null!==(o=null===(t=m.data)||void 0===t?void 0:t.total)&&void 0!==o?o:0,page:null!==(d=null===(s=m.data)||void 0===s?void 0:s.page)&&void 0!==d?d:1,limit:null!==(c=null===(n=m.data)||void 0===n?void 0:n.limit)&&void 0!==c?c:10,totalPages:null!==(u=null===(i=m.data)||void 0===i?void 0:i.totalPages)&&void 0!==u?u:1,isLoading:m.isLoading,isError:m.isError,error:m.error,refetch:m.refetch,isFetching:m.isFetching}}function i(e){let t=(0,r.a)({queryKey:["order",e],queryFn:()=>a.k.getOrderById(e),enabled:!!e,staleTime:3e5,refetchOnWindowFocus:!1});return{order:t.data,isLoading:t.isLoading,isError:t.isError,error:t.error,refetch:t.refetch,isFetching:t.isFetching}}let l=(e,t)=>{let{data:s,isLoading:n,isError:i,error:l}=(0,r.a)({queryKey:["costBreakdown",e,t],queryFn:()=>a.k.getPredefinePrices(e,t),enabled:!!e&&!!t,staleTime:3e5});return{costBreakdown:s,isLoading:n,isError:i,error:l}}},5155:function(e,t,s){"use strict";s.d(t,{qm:function(){return u},vr:function(){return m},rZ:function(){return h}});var r=s(1713),a=s(1770),n=s(9827),i=s(6305);let l=()=>i.x.get("/payments/all"),o=e=>i.x.post("/payments/init",e),d=e=>i.x.patch("/payments/verify/".concat(e,"?provider=paystack"),{});var c=s(999);function u(){let e=(0,r.a)({queryKey:["payments"],queryFn:async()=>(await l()).data.data,staleTime:3e5,refetchOnWindowFocus:!1});return{allPayments:e.data,isLoading:e.isLoading,isError:e.isError,error:e.error,refetch:e.refetch,isFetching:e.isFetching}}let m=()=>(0,a.D)({mutationFn:async e=>(await o(e)).data.data,onSuccess:e=>{(0,c.C)({type:"success",message:"Payment initialized successfully!"}),e.authorizationUrl&&(window.location.href=e.authorizationUrl)},onError:e=>{(0,c.C)({type:"error",message:e.message||"Failed to initialize payment. Please try again."})}}),h=()=>{let e=(0,n.NL)();return(0,a.D)({mutationFn:async e=>{let{reference:t}=e;return(await d(t)).data.data},onSuccess:t=>{let{success:s,message:r}=t;e.invalidateQueries({queryKey:["requests"]}),s?(0,c.C)({type:"success",message:r||"Payment verified successfully!"}):(0,c.C)({type:"error",message:r||"Payment verification failed"})},onError:e=>{(0,c.C)({type:"error",message:e.message||"Failed to verify payment."})}})}},6305:function(e,t,s){"use strict";s.d(t,{M:function(){return i},x:function(){return o}});var r=s(3464),a=s(4191);let n=s(257).env.NEXT_PUBLIC_API_BASE_URL;class i extends Error{constructor(e,t,s,r,a,n){super(e),this.status=t,this.code=s,this.errors=r,this.details=a,this.data=n,this.name="ApiError"}}class l{setupInterceptors(){this.client.interceptors.request.use(async e=>{var t;let{accessToken:s,isAuthenticated:i,refreshToken:l}=a.tN.getState();if(null===(t=e.url)||void 0===t?void 0:t.includes("/auth/refresh-token"))return e;if(i&&s){if((0,a.Rm)(s,60)&&l&&!this.isRefreshing)try{this.isRefreshing=!0;let{accessToken:t,refreshToken:s}=(await r.Z.post("".concat(n,"/auth/refresh-token"),{token:l},{headers:{"Content-Type":"application/json"},timeout:1e4})).data.data;a.tN.getState().setAuth(a.tN.getState().user,t,s),e.headers.Authorization="Bearer ".concat(t)}catch(t){console.error("❌ API Interceptor: Proactive token refresh failed:",t),e.headers.Authorization="Bearer ".concat(s)}finally{this.isRefreshing=!1}else e.headers.Authorization="Bearer ".concat(s)}return e},e=>Promise.reject(e)),this.client.interceptors.response.use(e=>e,async e=>{var t;let s=e.config;if((null===(t=e.response)||void 0===t?void 0:t.status)===401&&!s._retry){if(this.isRefreshing)return new Promise((e,t)=>{this.failedQueue.push({resolve:e,reject:t})}).then(()=>{let{accessToken:e}=a.tN.getState();return s.headers&&e&&(s.headers.Authorization="Bearer ".concat(e)),this.client(s)}).catch(e=>Promise.reject(e));s._retry=!0,this.isRefreshing=!0;try{let{refreshToken:e}=a.tN.getState();if(!e)throw console.warn("⚠️ API Interceptor: No refresh token available for 401 retry"),Error("No refresh token available");let{accessToken:t,refreshToken:i}=(await r.Z.post("".concat(n,"/auth/refresh-token"),{token:e},{headers:{"Content-Type":"application/json"},timeout:1e4})).data.data;return a.tN.getState().setAuth(a.tN.getState().user,t,i),this.processQueue(null),s.headers&&(s.headers.Authorization="Bearer ".concat(t)),this.client(s)}catch(e){return console.error("❌ API Interceptor: Token refresh failed after 401:",e),this.processQueue(e),this.handleLogout(),Promise.reject(this.transformError(e))}finally{this.isRefreshing=!1}}return Promise.reject(this.transformError(e))})}transformError(e){if(e.response){let{data:t,status:s}=e.response;return new i((null==t?void 0:t.message)||"Request failed with status ".concat(s),s,null==t?void 0:t.code,null==t?void 0:t.errors,null==t?void 0:t.details,t)}return"ECONNABORTED"===e.code?new i("Request timeout",0):new i(e.message||"Network error",0)}processQueue(e){this.failedQueue.forEach(t=>{e?t.reject(e):t.resolve()}),this.failedQueue=[]}handleLogout(){let{clearAuth:e}=a.tN.getState();e();{let e=window.location.pathname;["/dashboard","/request-details"].some(t=>e.startsWith(t))&&(window.location.href="/login")}}async get(e,t){return(await this.client.get(e,t)).data}async post(e,t,s){return(await this.client.post(e,t,s)).data}async put(e,t,s){return(await this.client.put(e,t,s)).data}async patch(e,t,s){return(await this.client.patch(e,t,s)).data}async delete(e,t){return(await this.client.delete(e,t)).data}constructor(e){this.isRefreshing=!1,this.failedQueue=[],this.client=r.Z.create({baseURL:e,headers:{"Content-Type":"application/json"},timeout:15e3}),this.setupInterceptors()}}let o=new l(n)},8118:function(e,t,s){"use strict";s.d(t,{k:function(){return a}});var r=s(6305);let a={getAllOrder:async()=>(await r.x.get("/orders/my-orders")).data.data,requestVehicle:async e=>(await r.x.post("/orders",e)).data.data,getOrderById:async e=>(await r.x.get("/orders/".concat(e))).data.data,getPredefinePrices:async(e,t)=>(await r.x.get("/orders/order-summary/".concat(e,"/?shippingMethod=").concat(t))).data.data}},4191:function(e,t,s){"use strict";s.d(t,{Rm:function(){return i},mc:function(){return n},tN:function(){return o}});var r=s(3011),a=s(6885);function n(e){if(!e)return!0;try{let t=e.split(".");if(3!==t.length)return!0;let s=JSON.parse(atob(t[1]));if(!s.exp)return!1;let r=Math.floor(Date.now()/1e3);return s.exp<r}catch(e){return console.error("Error decoding token:",e),!0}}function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60;if(!e)return!0;try{let s=e.split(".");if(3!==s.length)return!0;let r=JSON.parse(atob(s[1]));if(!r.exp)return!1;let a=Math.floor(Date.now()/1e3);return r.exp<a+t}catch(e){return console.error("Error decoding token:",e),!0}}let l={getItem:e=>{let t=localStorage.getItem(e);return t?JSON.parse(t):null},setItem:(e,t)=>{localStorage.setItem(e,JSON.stringify(t))},removeItem:e=>{localStorage.removeItem(e)}},o=(0,r.U)()((0,a.tJ)((e,t)=>({user:null,accessToken:null,refreshToken:null,isAuthenticated:!1,isHydrated:!1,isInitialized:!1,setAuth:(t,s,r)=>{e({user:t,accessToken:s,refreshToken:r||null,isAuthenticated:!0,isHydrated:!0,isInitialized:!0})},updateUser:t=>e(e=>({...e,user:t})),setAccessToken:t=>e({accessToken:t}),clearAuth:()=>{e({user:null,accessToken:null,refreshToken:null,isAuthenticated:!1,isHydrated:!0,isInitialized:!0})},setHydrated:t=>e({isHydrated:t}),setInitialized:t=>e({isInitialized:t}),isTokenExpired:()=>{let{accessToken:e}=t();return n(e)}}),{name:"auth-storage",storage:(0,a.FL)(()=>l),partialize:e=>({user:e.user,accessToken:e.accessToken,refreshToken:e.refreshToken,isAuthenticated:e.isAuthenticated}),onRehydrateStorage:()=>e=>{if(e&&(e.isHydrated=!0,e.isAuthenticated&&e.accessToken)){let t=n(e.accessToken),s=!!e.refreshToken;t&&!s&&(console.warn("Token expired and no refresh token available, clearing auth"),e.user=null,e.accessToken=null,e.refreshToken=null,e.isAuthenticated=!1)}}}))},8135:function(e,t,s){"use strict";s.d(t,{LI:function(){return d},X:function(){return l},p6:function(){return o},qA:function(){return n},xG:function(){return i},yG:function(){return c}});let r={sourcing_fee_percent:5,sourcing_fee_min_usd:500,inspection_fee_usd:150,us_handling_fee_usd:350,shipping_roro_base_usd:1800,shipping_container_base_usd:2500,exchange_rate_ngn_usd:1550,timeline_days_roro:45,timeline_days_container:60},a={CAR:1,SEDAN:1,COUPE:1,HATCHBACK:1,WAGON:1.05,CONVERTIBLE:1.05,SUV:1.15,TRUCK:1.25,VAN:1.2,MOTORCYCLE:0};function n(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r,i=a[t]||1,l=Math.max(n.sourcing_fee_percent/100*e,n.sourcing_fee_min_usd),o=n.inspection_fee_usd,d=n.us_handling_fee_usd,c=("RORO"===s?n.shipping_roro_base_usd:n.shipping_container_base_usd)*i,u=e+l+o+d+c,m=u*n.exchange_rate_ngn_usd;return{breakdown:{vehicle_price:e,sourcing_fee:l,inspection_fee:o,us_handling_fee:d,shipping_cost:c,total_usd:u,total_ngn:m,exchange_rate:n.exchange_rate_ngn_usd},estimatedDeliveryDays:"RORO"===s?n.timeline_days_roro:n.timeline_days_container,depositAmount:.3*u}}function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";return"NGN"===t?new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0,maximumFractionDigits:0}).format(e):new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function l(e){let t=new Date;return t.setDate(t.getDate()+e),t}function o(e){return("string"==typeof e?new Date(e):e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}let d=["Lagos","Abuja","Port Harcourt","Kano","Ibadan","Enugu","Kaduna","Benin City","Warri","Calabar","Aba","Jos","Ilorin","Onitsha","Abeokuta","Uyo","Owerri","Akure","Bauchi","Sokoto"],c=["Toyota","Honda","Ford","Chevrolet","BMW","Mercedes-Benz","Lexus","Nissan","Hyundai","Kia","Mazda","Volkswagen","Audi","Subaru","Jeep","Dodge","Ram","GMC","Acura","Infiniti","Cadillac","Lincoln","Volvo","Land Rover","Porsche"]},999:function(e,t,s){"use strict";s.d(t,{C:function(){return a}});var r=s(4438);let a=e=>{let{type:t,message:s,duration:a=2e3,position:n="top-center"}=e,i={color:"#fff"},l={success:"#4CAF50",error:"#FF5722",info:"#2196F3",warning:"#FFC107"};switch(r.Am.dismiss(),t){case"success":r.Am.success(s,{duration:a,style:{...i,backgroundColor:l.success},position:n});break;case"error":r.Am.error(s,{duration:a,style:{...i,backgroundColor:l.error},position:n});break;case"info":(0,r.Am)(s,{duration:a,style:{...i,backgroundColor:l.info},position:n});break;case"warning":(0,r.Am)(s,{duration:a,style:{...i,backgroundColor:l.warning},position:n});break;default:console.warn("Invalid toast type")}}}},function(e){e.O(0,[753,451,428,464,971,117,744],function(){return e(e.s=2445)}),_N_E=e.O()}]);